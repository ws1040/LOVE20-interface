"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7432],{12293:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(37876),i=t(7446);let s=()=>(0,a.jsx)(i.A,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})},17660:(e,n,t)=>{t.d(n,{vC:()=>l,o9:()=>T,p9:()=>c,vx:()=>m,S1:()=>f});var a=t(16927),i=t(4902),s=t(14232),r=t(75569),d=t(38967),u=t(92165),p=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"JOIN_END_PHASE_BLOCKS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"accountToIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionIdsByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"actionIdsByAccountAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"actionIdsByAccountCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByActionId",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"amountByActionIdByAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"indexToAccount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"submitAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"randomAddress_",type:"address",internalType:"address"},{name:"joinEndPhaseBlocks",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"join",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"additionalAmount",type:"uint256",internalType:"uint256"},{name:"verificationInfos_",type:"string[]",internalType:"string[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"numOfAccounts",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"prefixSum",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"prepareRandomAccountsIfNeeded",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"nonpayable"},{type:"function",name:"randomAccounts",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"randomAccountsByActionIdAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"randomAccountsByActionIdCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"round",type:"uint256",internalType:"uint256"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"randomAccountsByRandomSeed",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"randomSeed",type:"uint256",internalType:"uint256"},{name:"num",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"randomAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"submitAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"updateVerificationInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"verificationKeys_",type:"string[]",internalType:"string[]"},{name:"verificationInfos_",type:"string[]",internalType:"string[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"verificationInfo",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"verificationKey",type:"string",internalType:"string"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"verificationInfoByRound",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"verificationKey",type:"string",internalType:"string"},{name:"round",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"verificationInfoUpdateRoundsAtIndex",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"verificationKey",type:"string",internalType:"string"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"verificationInfoUpdateRoundsCount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"verificationKey",type:"string",internalType:"string"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"withdraw",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"event",name:"Join",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"currentRound",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"additionalStakeAmount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"PrepareRandomAccounts",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"accounts",type:"address[]",indexed:!1,internalType:"address[]"}],anonymous:!1},{type:"event",name:"UpdateVerificationInfo",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"actionId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verificationKey",type:"string",indexed:!0,internalType:"string"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verificationInfo",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"event",name:"Withdraw",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"currentRound",type:"uint256",indexed:!1,internalType:"uint256"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"ActionNotVoted",inputs:[]},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"AmountIsZero",inputs:[]},{type:"error",name:"JoinAmountLessThanMinStake",inputs:[]},{type:"error",name:"JoinedAmountIsZero",inputs:[]},{type:"error",name:"LastBlocksOfPhaseCannotJoin",inputs:[]},{type:"error",name:"NotWhiteListAddress",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]}],o=t(65575),y="0x8CcBd2F82ce3Cd32acd6711f54521421F9bbb58B",l=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,r.Q)({address:y,abi:p,functionName:"currentRound",query:{enabled:e}}),t=n.data,a=n.isPending,i=n.error;return{currentRound:(0,o.oQ)(t),isPending:a,error:i}},c=(e,n)=>{var t=(0,r.Q)({address:y,abi:p,functionName:"amountByActionId",args:[e,n],query:{enabled:!!e&&void 0!==n}}),a=t.data,i=t.isPending,s=t.error;return{joinedAmountByActionId:a?(0,o.oQ)(a):void 0,isPending:i,error:s}},m=(e,n,t)=>{var a=(0,r.Q)({address:y,abi:p,functionName:"amountByActionIdByAccount",args:[e,n,t],query:{enabled:!!e&&!!t&&void 0!==n}}),i=a.data,s=a.isPending,d=a.error;return{joinedAmountByActionIdByAccount:i?(0,o.oQ)(i):void 0,isPending:s,error:d}};function T(){var e=(0,d.VR)(p,y,"join"),n=e.execute,t=e.isPending,r=e.isConfirming,o=e.isConfirmed,l=e.error,c=e.hash,m=e.isTukeMode;return(0,s.useEffect)(()=>{c&&console.log("join tx hash:",c),l&&(console.log("提交join交易错误:"),(0,u.YN)(l),(0,u.vV)(l))},[c,l]),{join:(e,t,s,r)=>(0,a._)(function(){return(0,i.YH)(this,function(a){switch(a.label){case 0:return console.log("提交join交易:",{tokenAddress:e,actionId:t,additionalStakeAmount:s,verificationInfos_:r,isTukeMode:m}),[4,n([e,t,s,r])];case 1:return[2,a.sent()]}})})(),isPending:t,isConfirming:r,writeError:l,isConfirmed:o,hash:c,isTukeMode:m}}function f(){var e=(0,d.VR)(p,y,"withdraw"),n=e.execute,t=e.isPending,r=e.isConfirming,o=e.isConfirmed,l=e.error,c=e.hash,m=e.isTukeMode;return(0,s.useEffect)(()=>{c&&console.log("withdraw tx hash:",c),l&&(console.log("提交withdraw交易错误:"),(0,u.YN)(l),(0,u.vV)(l))},[c,l]),{withdraw:(e,t)=>(0,a._)(function(){return(0,i.YH)(this,function(a){switch(a.label){case 0:return console.log("提交withdraw交易:",{tokenAddress:e,actionId:t,isTukeMode:m}),[4,n([e,t])];case 1:return[2,a.sent()]}})})(),isPending:t,isConfirming:r,writeError:l,isConfirmed:o,hash:c,isTukeMode:m}}},87577:(e,n,t)=>{t.d(n,{A:()=>y});var a=t(40854),i=t(37876),s=t(14232),r=t(48447),d=t(33276),u=t(70801),p=t(97685),o=t(20442);let y=e=>{var n=e.address,t=e.word,y=e.showCopyButton,l=e.showAddress,c=void 0===l||l,m=e.colorClassName,T=void 0===m?"":m,f=e.colorClassName2,A=void 0===f?"":f,v=(0,a._)((0,s.useState)(!1),2),x=v[0],b=v[1];return(0,i.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,i.jsx)("span",{className:"text-xs",children:t}),c&&!A&&(0,i.jsx)("span",{className:"font-mono text-xs ".concat(null!=T?T:"text-greyscale-500"),children:(0,o.W_)(n)}),c&&A&&(0,i.jsxs)("span",{className:"text-[0px]",children:[(0,i.jsx)("span",{className:"font-mono text-xs ".concat(null!=T?T:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,i.jsx)("span",{className:"font-mono text-xs ".concat(A),children:"".concat(n.substring(n.length-4))})]}),(void 0===y||y)&&(0,i.jsx)(r.CopyToClipboard,{text:n,onCopy:(e,n)=>{n?b(!0):p.Ay.error("复制失败")},children:(0,i.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:x?(0,i.jsx)(d.A,{className:"h-4 w-4 ".concat(null!=T?T:"text-greyscale-500")}):(0,i.jsx)(u.A,{className:"h-4 w-4 ".concat(null!=T?T:"text-greyscale-500")})})})]})}}}]);