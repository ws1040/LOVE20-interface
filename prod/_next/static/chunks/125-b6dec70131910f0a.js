"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{4066:(e,n,t)=>{t.d(n,{BN:()=>i,bD:()=>s,u$:()=>u,u3:()=>p});var a=t(20442),r=t(65575),s=(e,n,t)=>{if(!e||!n)return"0%";var s=31536e5/Number("255"),i=(0,r.oQ)("120");if(0===s||0n===i)return console.error("配置错误: NEXT_PUBLIC_BLOCK_TIME 或 NEXT_PUBLIC_PHASE_BLOCKS 未设置"),"0%";var u=e?99n*e*99n/2000000n:BigInt(0),p=(2n*n||BigInt(0))+(t||BigInt(0));if(p===BigInt(0))return"0%";var o=Number(u)/Number(p)/(Number(i)/s)*100;return(0,a.Ee)(o)},i=(e,n)=>{if(!e||!n||0n===n)return"∞";var t=31536e5/Number("255"),s=(0,r.oQ)("120");if(0===t||0n===s)return console.error("配置错误: BLOCK_TIME 或 PHASE_BLOCKS 未设置或为0"),"0%";var i=Number(e)/Number(n)/(Number(s)/t)*100;return(0,a.Ee)(i)},u=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Number("120")||0,r=Number("255")||0,s=e*a,i=Math.ceil(s*r/100);if(i>=86400){var u=Math.ceil(i/86400);n="".concat(u,"天")}else if(i>=3600){var p=Math.ceil(i/3600);n="".concat(p,"小时")}else{var o=Math.ceil(i/60);n="".concat(o,"分钟")}var y="".concat(s.toLocaleString(),"区块，约").concat(n);return t||(y="".concat(e,"个阶段（").concat(y,")")),y},p=(e,n)=>{if(!e)return BigInt(0);var t=1000n-(0,r.oQ)("1")-(0,r.oQ)("1"),a=BigInt(0);return n<=1n?e*(0,r.oQ)("1")/1000n:e*t*(0,r.oQ)("1")/1000000n}},42472:(e,n,t)=>{t.d(n,{zH:()=>b,lW:()=>c});var a=t(16927),r=t(40854),s=t(4902),i=t(14232),u=t(75569),p=t(40162),o=t(81675),y=t(1160),l=t(99090),d=[{type:"constructor",inputs:[{name:"minter_",type:"address",internalType:"address"},{name:"tokenAddress_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"burn",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"decreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"subtractedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"increaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"addedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"mint",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"minter",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"reserve",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenBurn",inputs:[{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenMint",inputs:[{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AmountIsGreaterThanReserve",inputs:[]},{type:"error",name:"InvalidAddress",inputs:[]},{type:"error",name:"NotMinter",inputs:[]}],m=t(65575),c=(e,n)=>{var t=(0,u.Q)({address:e,abi:d,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n}}),a=t.data,r=t.isPending,s=t.error;return{balance:a?(0,m.oQ)(a):void 0,isPending:r,error:s}};function b(e){var n=(0,r._)((0,i.useState)(!1),2),t=n[0],u=n[1],m=(0,r._)((0,i.useState)(null),2),c=m[0],b=m[1],T=(0,r._)((0,i.useState)(),2),f=T[0],v=T[1],M=(0,p.g)({hash:f}),g=M.isLoading,w=M.isSuccess,h=M.error;return{approve:(n,t)=>(0,a._)(function(){var a;return(0,s.YH)(this,function(r){switch(r.label){case 0:u(!0),b(null),r.label=1;case 1:return r.trys.push([1,4,5,6]),[4,(0,o.v)(l.$,{address:e,abi:d,functionName:"approve",args:[n,t]})];case 2:return r.sent(),[4,(0,y.E)(l.$,{address:e,abi:d,functionName:"approve",args:[n,t]})];case 3:return v(a=r.sent()),[2,a];case 4:return b(r.sent()),[3,6];case 5:return u(!1),[7];case 6:return[2]}})})(),isPending:t,isConfirming:g,writeError:null!=c?c:h,isConfirmed:w}}},75695:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(16927),r=t(40854),s=t(4902),i=t(37876),u=t(14232),p=t(7446),o=t(95167),y=t(8047),l=t(44571),d=t(97685);function m(e){var n=e.tokenAddress,t=e.tokenSymbol,m=e.tokenDecimals,c=e.tokenImage,b=(0,r._)((0,u.useState)(!1),2),T=b[0],f=b[1],v=(0,y.F)().isConnected,M=(0,l.G)().data;return t.length>11?null:(0,i.jsx)("button",{onClick:()=>(0,a._)(function(){return(0,s.YH)(this,function(e){switch(e.label){case 0:if(!v)return alert("请先连接你的钱包"),[2];f(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!M)return alert("无法获取钱包客户端"),[2];return[4,M.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n,symbol:t,decimals:m,image:c}}})];case 2:return e.sent()?d.Ay.success("代币已成功添加到 MetaMask 钱包"):d.Ay.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),d.Ay.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return f(!1),[7];case 5:return[2]}})})(),disabled:T,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",children:T?(0,i.jsx)(p.A,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(o.A,{className:"h-4 w-4 text-greyscale-500"})})}}}]);