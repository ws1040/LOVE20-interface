try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="21f77f88-94b7-4f12-a785-659d7e977819",e._sentryDebugIdIdentifier="sentry-dbid-21f77f88-94b7-4f12-a785-659d7e977819")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7283],{3743:function(e,n,t){t.d(n,{Z:function(){return a}});var a=(0,t(1462).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},43447:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(11010),s=t(91309),i=t(97582),r=t(85893),o=t(67294),u=t(45197),d=t(3743),l=t(20975),c=t(38545),p=t(86501),y=t(64394);function m(e){var n,t=e.tokenAddress,m=e.tokenSymbol,f=e.tokenDecimals,h=e.tokenImage,b=(0,s._)((0,o.useState)(!1),2),x=b[0],g=b[1],w=(0,l.m)().isConnected,v=(0,c.p)().data,T=(n=(0,a._)(function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:if(!w)return alert("请先连接你的钱包"),[2];g(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!v)return alert("无法获取钱包客户端"),[2];return[4,v.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:m,decimals:f,image:h}}})];case 2:return e.sent()?p.ZP.success("代币已成功添加到 MetaMask 钱包"):p.ZP.error("用户拒绝添加代币"),[3,5];case 3:return e.sent(),p.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return g(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return m.length>11||(0,y.ON)()?null:(0,r.jsx)("button",{onClick:T,disabled:x,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:x?(0,r.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(d.Z,{className:"h-4 w-4 text-greyscale-500"})})}},25223:function(e,n,t){var a=t(91309),s=t(85893),i=t(67294),r=t(74855),o=t(3785),u=t(19710),d=t(86501),l=t(99019);n.Z=function(e){var n=e.address,t=e.word,c=e.showCopyButton,p=e.showAddress,y=void 0===p||p,m=e.colorClassName,f=void 0===m?"":m,h=e.colorClassName2,b=void 0===h?"":h,x=(0,a._)((0,i.useState)(!1),2),g=x[0],w=x[1];return(0,s.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,s.jsx)("span",{className:"text-xs",children:t}),y&&!b&&(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=f?f:"text-greyscale-500"),children:(0,l.Vu)(n)}),y&&b&&(0,s.jsxs)("span",{className:"text-[0px]",children:[(0,s.jsx)("span",{className:"font-mono text-xs ".concat(null!=f?f:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,s.jsx)("span",{className:"font-mono text-xs ".concat(b),children:"".concat(n.substring(n.length-4))})]}),(void 0===c||c)&&(0,s.jsx)(r.CopyToClipboard,{text:n,onCopy:function(e,n){n?w(!0):d.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:function(e){e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:g?(0,s.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=f?f:"text-greyscale-500")}):(0,s.jsx)(u.Z,{className:"h-4 w-4 ".concat(null!=f?f:"text-greyscale-500")})})})]})}},761:function(e,n,t){var a=t(85893),s=t(45197);n.Z=function(){return(0,a.jsx)(s.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},17030:function(e,n,t){t.d(n,{Z:function(){return p}});var a=t(85893),s=t(67294),i=t(20975),r=t(99019),o=t(82037),u=t(99522),d=t(25223),l=t(43447),c=t(761);function p(){var e=(0,i.m)().address,n=(0,o.hS)("0xc3Da46ED14dBd79922027031BB5D688A81139e01",e||"0x0000000000000000000000000000000000000000"),t=n.balance,p=n.isPending,y=n.error,m=(0,u.S)().handleContractError;return(0,s.useEffect)(function(){y&&m(y,"token")},[y]),(0,a.jsx)("div",{className:"px-4 pt-0 pb-6",children:(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-sm mt-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"mr-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"font-bold text-2xl mr-2",children:"TKM20"}),(0,a.jsx)(d.Z,{address:"0xc3Da46ED14dBd79922027031BB5D688A81139e01"}),(0,a.jsx)(l.Z,{tokenAddress:"0xc3Da46ED14dBd79922027031BB5D688A81139e01",tokenSymbol:"TKM20",tokenDecimals:Number("18")||0})]})})}),(0,a.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,a.jsx)("span",{className:"text-sm text-greyscale-500 mr-1",children:"我持有:"}),(0,a.jsx)("span",{className:"text-sm text-secondary",children:p?(0,a.jsx)(c.Z,{}):(0,r.LH)(t||BigInt(0))})]})]})})}},82037:function(e,n,t){t.d(n,{hS:function(){return p},Qo:function(){return y},Qc:function(){return m}});var a=t(11010),s=t(97582),i=t(67294),r=t(63600),o=[{type:"fallback",stateMutability:"payable"},{type:"function",name:"allowance",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"guy",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"deposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"src",type:"address",internalType:"address"},{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"guy",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],u=t(30460),d=t(53260),l=t(42380),c="0xc3Da46ED14dBd79922027031BB5D688A81139e01",p=function(e,n){var t=(0,r.u)({address:e,abi:o,functionName:"balanceOf",args:[n],query:{enabled:!!e&&!!n}}),a=t.data,s=t.isPending,i=t.error;return{balance:a?(0,u.Zu)(a):void 0,isPending:s,error:i}},y=function(){var e,n=(0,d.e9)(o,c,"deposit"),t=n.execute,r=n.isPending,u=n.isConfirming,p=n.isConfirmed,y=n.error,m=n.hash,f=n.isTukeMode,h=(e=(0,a._)(function(e){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,t([],e)];case 1:return[2,n.sent()]}})}),function(n){return e.apply(this,arguments)});return(0,i.useEffect)(function(){y&&((0,l.Vh)(y),(0,l.H)(y))},[m,y]),{deposit:h,isPending:r,isConfirming:u,writeError:y,isConfirmed:p,hash:m,isTukeMode:f}},m=function(){var e,n=(0,d.e9)(o,c,"withdraw"),t=n.execute,r=n.isPending,u=n.isConfirming,p=n.isConfirmed,y=n.error,m=n.hash,f=n.isTukeMode,h=(e=(0,a._)(function(e){return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,t([e])];case 1:return[2,n.sent()]}})}),function(n){return e.apply(this,arguments)});return(0,i.useEffect)(function(){y&&((0,l.Vh)(y),(0,l.H)(y))},[m,y]),{withdraw:h,isPending:r,isConfirming:u,writeError:y,isConfirmed:p,hash:m,isTukeMode:f}}},21803:function(e,n,t){t.d(n,{v:function(){return a}});function a(e,n){let[t,a="0"]=e.split("."),s=t.startsWith("-");if(s&&(t=t.slice(1)),a=a.replace(/(0+)$/,""),0===n)1===Math.round(Number(`.${a}`))&&(t=`${BigInt(t)+1n}`),a="";else if(a.length>n){let[e,s,i]=[a.slice(0,n-1),a.slice(n-1,n),a.slice(n)],r=Math.round(Number(`${s}.${i}`));(a=r>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${r}`).length>n&&(a=a.slice(1),t=`${BigInt(t)+1n}`),a=a.slice(0,n)}else a=a.padEnd(n,"0");return BigInt(`${s?"-":""}${t}${a}`)}}}]);