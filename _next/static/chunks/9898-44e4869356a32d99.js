"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9898],{29898:(e,t,n)=>{n.d(t,{vC:()=>l,YZ:()=>m,$d:()=>c,XC:()=>T,VI:()=>f});var i=n(16927),a=n(4902),s=n(14232),r=n(75569),u=n(38967),p=n(92165),y=[{type:"constructor",inputs:[{name:"originBlocks",type:"uint256",internalType:"uint256"},{name:"phaseBlocks",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"RANDOM_SEED_UPDATE_MIN_PER_TEN_THOUSAND",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"abstentionScoreWithReward",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"currentRound",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"firstTokenAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"hasTriggeredRandomUpdate",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"randomAddress_",type:"address",internalType:"address"},{name:"firstTokenAddress_",type:"address",internalType:"address"},{name:"stakeAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"joinAddress_",type:"address",internalType:"address"},{name:"mintAddress_",type:"address",internalType:"address"},{name:"randomSeedUpdateMinPerTenThousand",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"joinAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"mintAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"originBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"phaseBlocks",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"randomAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"roundByBlockNumber",inputs:[{name:"blockNumber",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"score",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByActionId",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByActionIdByAccount",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByVerifier",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreByVerifierByActionId",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"scoreWithReward",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakedAmountOfVerifiers",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"verify",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"actionId",type:"uint256",internalType:"uint256"},{name:"abstentionScore",type:"uint256",internalType:"uint256"},{name:"scores",type:"uint256[]",internalType:"uint256[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"Verify",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"round",type:"uint256",indexed:!1,internalType:"uint256"},{name:"verifier",type:"address",indexed:!0,internalType:"address"},{name:"actionId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"abstentionScore",type:"uint256",indexed:!1,internalType:"uint256"},{name:"scores",type:"uint256[]",indexed:!1,internalType:"uint256[]"}],anonymous:!1},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"RoundNotStarted",inputs:[]},{type:"error",name:"ScoresAndAccountsLengthMismatch",inputs:[]},{type:"error",name:"ScoresExceedVotesNum",inputs:[]},{type:"error",name:"ScoresMustIncrease",inputs:[]}],d=n(65575),o="0x80A449f8A1fDe788710adDEFf746884d1FF80c18",l=()=>{var e=(0,r.Q)({address:o,abi:y,functionName:"currentRound"}),t=e.data,n=e.isPending,i=e.error;return{currentRound:(0,d.oQ)(t),isPending:n,error:i}},m=(e,t,n,i)=>{var a=(0,r.Q)({address:o,abi:y,functionName:"scoreByActionIdByAccount",args:[e,t,n,i],query:{enabled:!!e&&void 0!==t&&void 0!==n&&!!i}}),s=a.data,u=a.isPending,p=a.error;return{scoreByActionIdByAccount:s?(0,d.oQ)(s):void 0,isPending:u,error:p}},c=(e,t,n)=>{var i=(0,r.Q)({address:o,abi:y,functionName:"scoreByVerifier",args:[e,t,n],query:{enabled:!!e&&!!n&&void 0!==t}}),a=i.data,s=i.isPending,u=i.error;return{scoreByVerifier:(0,d.oQ)(a),isPending:s,error:u}},T=(e,t,n,i)=>{var a=(0,r.Q)({address:o,abi:y,functionName:"scoreByVerifierByActionId",args:[e,t,n,i],query:{enabled:!!e&&void 0!==t&&!!n&&void 0!==i}}),s=a.data,u=a.isPending,p=a.error;return{scoreByVerifierByActionId:(0,d.oQ)(s),isPending:u,error:p}};function f(){var e=(0,u.VR)(y,o,"verify"),t=e.execute,n=e.isPending,r=e.isConfirming,d=e.isConfirmed,l=e.error,m=e.hash,c=e.isTukeMode;return(0,s.useEffect)(()=>{m&&console.log("verify tx hash:",m),l&&(console.log("提交verify交易错误:"),(0,p.YN)(l),(0,p.vV)(l))},[m,l]),{verify:(e,n,s,r)=>(0,i._)(function(){return(0,a.YH)(this,function(i){switch(i.label){case 0:return console.log("提交verify交易:",{tokenAddress:e,actionId:n,abstentionScore:s,scores:r,isTukeMode:c}),[4,t([e,n,s,r])];case 1:return[2,i.sent()]}})})(),isPending:n,isConfirming:r,writeError:l,isConfirmed:d,hash:m,isTukeMode:c}}}}]);