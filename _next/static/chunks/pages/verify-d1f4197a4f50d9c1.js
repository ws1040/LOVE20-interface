try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="254c4008-20cf-4e8f-8ccb-7e89c0f5f449",e._sentryDebugIdIdentifier="sentry-dbid-254c4008-20cf-4e8f-8ccb-7e89c0f5f449")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4143],{85719:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify",function(){return t(62321)}])},82950:function(e,n,t){"use strict";t.d(n,{Ol:function(){return o},SZ:function(){return u},Zb:function(){return l},aY:function(){return f},eW:function(){return m},ll:function(){return d}});var s=t(72253),r=t(47702),a=t(85893),c=t(67294),i=t(80513),l=c.forwardRef(function(e,n){var t=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},c))});l.displayName="Card";var o=c.forwardRef(function(e,n){var t=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t)},c))});o.displayName="CardHeader";var d=c.forwardRef(function(e,n){var t=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t)},c))});d.displayName="CardTitle";var u=c.forwardRef(function(e,n){var t=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,i.cn)("text-sm text-muted-foreground",t)},c))});u.displayName="CardDescription";var f=c.forwardRef(function(e,n){var t=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,i.cn)("p-6 pt-0",t)},c))});f.displayName="CardContent";var m=c.forwardRef(function(e,n){var t=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,i.cn)("flex items-center p-6 pt-0",t)},c))});m.displayName="CardFooter"},41944:function(e,n,t){"use strict";var s=t(85893);n.Z=function(e){var n=e.title;return(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-lg font-bold",children:n})})}},761:function(e,n,t){"use strict";var s=t(85893),r=t(45197);n.Z=function(){return(0,s.jsx)(r.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},62321:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var s=t(85893),r=t(67294),a=t(81736),c=t(99522),i=t(81231),l=t(20975),o=t(39332),d=t(20245),u=t(41664),f=t.n(u),m=t(27431),x=t(41192),N=t(82950),h=t(41944),p=t(761),v=t(99019),y=function(e){var n=e.currentRound,t=((0,r.useContext)(x.M)||{}).token,a=(0,l.m)().address;(0,o.useRouter)();var i=(0,m.IB)((null==t?void 0:t.address)||"",n||BigInt(0),a),u=i.myVerifyingActions,y=i.isPending,g=i.error,j=(0,c.S)().handleContractError;if((0,r.useEffect)(function(){g&&j(g,"dataviewer")},[g]),!t||y)return(0,s.jsx)("div",{className:"p-4 flex justify-center items-center",children:(0,s.jsx)(p.Z,{})});var b=null==u?void 0:u.slice().sort(function(e,n){return Number(e.action.head.id-n.action.head.id)});return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)(h.Z,{title:"我需验证的行动"}),!(null==b?void 0:b.length)&&(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"没有待验证行动"}),b&&b.length>0&&(0,s.jsx)("div",{className:"mt-4 space-y-4",children:b.map(function(e){return(0,s.jsx)(N.Zb,{className:"shadow-none",children:(0,s.jsxs)(f(),{className:"relative block",href:"/verify/action?id=".concat(e.action.head.id,"&symbol=").concat(null==t?void 0:t.symbol),children:[(0,s.jsxs)(N.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-start items-baseline",children:[(0,s.jsx)("span",{className:"text-greyscale-400 text-sm mr-1",children:"No.".concat(e.action.head.id)}),(0,s.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.action.body.title)})]}),(0,s.jsx)(N.aY,{className:"px-3 pt-1 pb-2",children:(0,s.jsxs)("div",{className:"text-xs text-greyscale-400 mt-2 flex justify-between",children:[(0,s.jsxs)("span",{children:["总票数: ",(0,s.jsx)("span",{className:"text-secondary",children:(0,v.LH)(e.totalVotesNum)})]}),(0,s.jsxs)("span",{children:["我的票数: ",(0,s.jsx)("span",{className:"text-secondary",children:(0,v.LH)(e.myVotesNum)})]}),(0,s.jsxs)("span",{children:["我的占比:"," ",(0,s.jsx)("span",{className:"text-secondary",children:(0,v.rl)(Number(e.myVotesNum*BigInt(1e4)/e.totalVotesNum)/100)})]})]})}),(0,s.jsx)(d.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-greyscale-400 pointer-events-none"})]})},e.action.head.id)})})]})},g=function(){var e=(0,a.Bk)(),n=e.currentRound,t=e.error,l=(0,c.S)().handleContractError;return(0,r.useEffect)(function(){t&&l(t,"verify")},[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{title:"验证"}),(0,s.jsx)("main",{className:"flex-grow",children:(0,s.jsx)(y,{currentRound:n})})]})}},21803:function(e,n,t){"use strict";function s(e,n){let[t,s="0"]=e.split("."),r=t.startsWith("-");if(r&&(t=t.slice(1)),s=s.replace(/(0+)$/,""),0===n)1===Math.round(Number(`.${s}`))&&(t=`${BigInt(t)+1n}`),s="";else if(s.length>n){let[e,r,a]=[s.slice(0,n-1),s.slice(n-1,n),s.slice(n)],c=Math.round(Number(`${r}.${a}`));(s=c>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${c}`).length>n&&(s=s.slice(1),t=`${BigInt(t)+1n}`),s=s.slice(0,n)}else s=s.padEnd(n,"0");return BigInt(`${r?"-":""}${t}${s}`)}t.d(n,{v:function(){return s}})}},function(e){e.O(0,[7395,6457,8700,1985,7431,1736,2888,9774,179],function(){return e(e.s=85719)}),_N_E=e.O()}]);