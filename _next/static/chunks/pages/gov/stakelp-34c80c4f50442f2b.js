(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6375],{2316:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gov/stakelp",function(){return a(15987)}])},4066:(e,s,a)=>{"use strict";a.d(s,{BN:()=>l,bD:()=>r,u$:()=>i,u3:()=>d});var t=a(20442),n=a(65575),r=(e,s,a)=>{if(!e||!s)return"0%";var r=31536e5/Number("255"),l=(0,n.oQ)("120");if(0===r||0n===l)return console.error("配置错误: NEXT_PUBLIC_BLOCK_TIME 或 NEXT_PUBLIC_PHASE_BLOCKS 未设置"),"0%";var i=e?99n*e*99n/2000000n:BigInt(0),d=(2n*s||BigInt(0))+(a||BigInt(0));if(d===BigInt(0))return"0%";var o=Number(i)/Number(d)/(Number(l)/r)*100;return(0,t.Ee)(o)},l=(e,s)=>{if(!e||!s||0n===s)return"∞";var a=31536e5/Number("255"),r=(0,n.oQ)("120");if(0===a||0n===r)return console.error("配置错误: BLOCK_TIME 或 PHASE_BLOCKS 未设置或为0"),"0%";var l=Number(e)/Number(s)/(Number(r)/a)*100;return(0,t.Ee)(l)},i=function(e){var s,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Number("120")||0,n=Number("255")||0,r=e*t,l=Math.ceil(r*n/100);if(l>=86400){var i=Math.ceil(l/86400);s="".concat(i,"天")}else if(l>=3600){var d=Math.ceil(l/3600);s="".concat(d,"小时")}else{var o=Math.ceil(l/60);s="".concat(o,"分钟")}var c="".concat(r.toLocaleString(),"区块，约").concat(s);return a||(c="".concat(e,"个阶段（").concat(c,")")),c},d=(e,s)=>{if(!e)return BigInt(0);var a=1000n-(0,n.oQ)("1")-(0,n.oQ)("1"),t=BigInt(0);return s<=1n?e*(0,n.oQ)("1")/1000n:e*a*(0,n.oQ)("1")/1000000n}},12293:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(37876),n=a(7446);let r=()=>(0,t.jsx)(n.A,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})},13816:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>f,Es:()=>y,L3:()=>v,c7:()=>h,lG:()=>m,rr:()=>N,zM:()=>u});var t=a(3576),n=a(62701),r=a(65699),l=a(37876),i=a(14232),d=a(26303),o=a(70672),c=a(30684),m=d.bL,u=d.l9,p=d.ZL;d.bm;var x=i.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)(d.hJ,(0,t._)({ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},n))});x.displayName=d.hJ.displayName;var f=i.forwardRef((e,s)=>{var a=e.className,i=e.children,m=(0,r._)(e,["className","children"]);return(0,l.jsxs)(p,{children:[(0,l.jsx)(x,{}),(0,l.jsxs)(d.UC,(0,n._)((0,t._)({ref:s,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},m),{children:[i,(0,l.jsxs)(d.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(o.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});f.displayName=d.UC.displayName;var h=e=>{var s=e.className,a=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s)},a))};h.displayName="DialogHeader";var y=e=>{var s=e.className,a=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},a))};y.displayName="DialogFooter";var v=i.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)(d.hE,(0,t._)({ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",a)},n))});v.displayName=d.hE.displayName;var N=i.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)(d.VY,(0,t._)({ref:s,className:(0,c.cn)("text-sm text-muted-foreground",a)},n))});N.displayName=d.VY.displayName},15987:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>O});var t=a(37876),n=a(60154),r=a(8047),l=a(14232),i=a(20442),d=a(20451),o=a(19591),c=a(83416),m=a(75695),u=a(87577),p=a(12293);let x=e=>{var s=e.token,a=(0,r.F)().address,n=(0,l.useContext)(c.N)||{},x=n.token;n.setToken,n.clearToken;var f=s||x,h=(0,o.n3)(null==f?void 0:f.address,a),y=h.slAmount,v=h.govVotes,N=h.isPending,b=h.error,g=(0,d.g)().handleContractError;return((0,l.useEffect)(()=>{b&&g(b,"stake")},[b,g]),a)?!f||N?(0,t.jsx)(p.A,{}):N||y?(0,t.jsx)("div",{className:"flex-col items-center px-4 py-2 mb-4",children:(0,t.jsxs)("div",{className:"stats bg-gray-100  w-full grid grid-cols-[1fr_2fr] divide-x-0 pt-4",children:[(0,t.jsxs)("div",{className:"stat place-items-center pt-0",children:[(0,t.jsx)("div",{className:"stat-title text-sm",children:"我的治理票数"}),(0,t.jsx)("div",{className:"stat-value text-xl",children:N?(0,t.jsx)(p.A,{}):(0,i.NJ)(v||0n)})]}),(0,t.jsxs)("div",{className:"stat place-items-center pt-0",children:[(0,t.jsxs)("div",{className:"stat-title text-sm flex items-center",children:["流动性质押凭证SL代币",(0,t.jsx)(u.A,{address:f.slTokenAddress,showAddress:!1}),(0,t.jsx)(m.A,{tokenAddress:f.slTokenAddress,tokenSymbol:"sl"+f.symbol,tokenDecimals:f.decimals})]}),(0,t.jsx)("div",{className:"stat-value text-xl",children:N?(0,t.jsx)(p.A,{}):(0,i.NJ)(y||0n)})]})]})}):(0,t.jsx)(t.Fragment,{}):(0,t.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})};var f=a(16927),h=a(40120),y=a(3576),v=a(62701),N=a(40854),b=a(4902),g=a(89099),j=a(97685),k=a(22442),w=a(13810),T=a(88992),_=a(62212),C=a(11713),A=(0,C.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),E=(0,C.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),R=(0,C.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S=a(48230),I=a.n(S),M=a(6960),B=a(92659),P=a(78256),F=a(77932),L=a(28638),V=a(13816),z=a(42038),W=a(4066),H=a(25239),J=a(9215),q=a(49281),$=a(63346),D=a(1709),X=a(99574);let Y=e=>{(0,h._)(e);var s,a,n,m,u,x,C=function(){j.oR.success("质押成功"),setTimeout(()=>{window.location.href="".concat("/interface","/gov?symbol=").concat(null==Z?void 0:Z.symbol)},2e3)},S=(0,r.F)(),Y=S.address,O=S.chain,U=(0,l.useContext)(c.N);if(!U)throw Error("TokenContext 必须在 TokenProvider 内使用");var Z=U.token,Q=U.setToken,K=U.clearToken,G=(0,H.q)().setError,ee=(0,g.useRouter)().query.first,es=(0,q.ec)(Y,null==Z?void 0:Z.address),ea=es.pairInfo,et=es.isPending,en=es.error,er=null!=(s=null==ea?void 0:ea.balanceOfToken)?s:0n,el=null!=(a=null==ea?void 0:ea.balanceOfParentToken)?a:0n,ei=null!=(n=null==ea?void 0:ea.allowanceOfToken)?n:0n,ed=null!=(m=null==ea?void 0:ea.allowanceOfParentToken)?m:0n,eo=ea&&BigInt(ea.pairReserveToken)>0n&&BigInt(ea.pairReserveParentToken)>0n,ec=(0,N._)((0,l.useState)(!1),2),em=ec[0],eu=ec[1],ep=(0,o.CF)(null==Z?void 0:Z.address),ex=ep.initialStakeRound,ef=ep.isPending,eh=ep.error,ey=Number("1")||4,ev=Number("4")||12,eN=(0,T.mN)({resolver:(0,w.u)((u=el||0n,x=er||0n,k.Ik({parentToken:k.vk(e=>{if("string"!=typeof e)return e;var s=e.replace(/。/g,".");return s.startsWith(".")&&(s="0"+s),s},k.Yj().regex(/^\d+(\.\d{1,18})?$/,"请输入合法数值，最多支持18位小数").refine(e=>{var s=(0,i.XS)(e);return null!==s&&s>0n},"质押父币数不能为 0").refine(e=>{var s=(0,i.XS)(e);return null!==s&&s<=u},"质押父币数不能超过当前持有")),stakeToken:k.vk(e=>{if("string"!=typeof e)return e;var s=e.replace(/。/g,".");return s.startsWith(".")&&(s="0"+s),s},k.Yj().regex(/^\d+(\.\d{1,18})?$/,"请输入合法数值，最多支持18位小数").refine(e=>{var s=(0,i.XS)(e);return null!==s&&s>0n},"质押 token 数不能为 0").refine(e=>{var s=(0,i.XS)(e);return null!==s&&s<=x},"质押 token 数不能超过当前持有")),releasePeriod:k.Yj().min(1,"请选择解锁期")}))),defaultValues:{parentToken:"",stakeToken:"",releasePeriod:""},mode:"onChange"}),eb=(0,o.n3)(null==Z?void 0:Z.address,Y),eg=(eb.govVotes,eb.promisedWaitingPhases),ej=eb.isPending,ek=eb.error,ew=(0,N._)((0,l.useState)(!1),2),eT=ew[0],e_=ew[1],eC=(0,N._)((0,l.useState)(!1),2),eA=eC[0],eE=eC[1],eR=(0,J.zH)(null==Z?void 0:Z.address),eS=eR.approve,eI=eR.isPending,eM=eR.isConfirming,eB=eR.isConfirmed,eP=eR.writeError,eF=(0,J.zH)(null==Z?void 0:Z.parentTokenAddress),eL=eF.approve,eV=eF.isPending,ez=eF.isConfirming,eW=eF.isConfirmed,eH=eF.writeError;(0,l.useEffect)(()=>{eB&&(e_(!0),j.oR.success("授权".concat(null==Z?void 0:Z.symbol,"成功")))},[eB]),(0,l.useEffect)(()=>{eW&&(eE(!0),j.oR.success("授权".concat(null==Z?void 0:Z.parentTokenSymbol,"成功")))},[eW]);var eJ=(0,N._)((0,l.useState)(!1),2),eq=eJ[0],e$=eJ[1],eD=(0,N._)((0,l.useState)(!1),2),eX=eD[0],eY=eD[1],eO=eN.watch("parentToken"),eU=eN.watch("stakeToken"),eZ=(0,i.XS)(eO),eQ=(0,i.XS)(eU);(0,l.useEffect)(()=>{if(eo&&eq&&null!==eZ&&eZ>0n){var e=eZ*BigInt(ea.pairReserveToken)/BigInt(ea.pairReserveParentToken),s=Number((0,i.Js)(e)).toFixed(12).replace(/\.?0+$/,"");eN.setValue("stakeToken",s,{shouldValidate:!0}),e$(!1),eY(!1)}},[eo,eq,eZ,ea,eN]),(0,l.useEffect)(()=>{if(eo&&eX&&null!==eQ&&eQ>0n){var e=eQ*BigInt(ea.pairReserveParentToken)/BigInt(ea.pairReserveToken),s=Number((0,i.Js)(e)).toFixed(12).replace(/\.?0+$/,"");eN.setValue("parentToken",s,{shouldValidate:!0}),e$(!1),eY(!1)}},[eo,eX,eQ,ea,eN]),(0,l.useEffect)(()=>{eZ>0n&&ed>=eZ?eE(!0):eE(!1)},[eZ,ed]),(0,l.useEffect)(()=>{eQ>0n&&ei>=eQ?e_(!0):e_(!1)},[eQ,ei]);var eK=(0,$.E)(),eG=eK.stakeLiquidity,e0=eK.isPending,e2=eK.isConfirming,e1=eK.isConfirmed,e5=eK.writeError;(0,l.useEffect)(()=>{e1&&((null==Z?void 0:Z.initialStakeRound)&&Z.initialStakeRound>0?C():eu(!0))},[e1]),(0,l.useEffect)(()=>{em&&!ef&&(ex||K(),C())},[em,ef]),(0,l.useEffect)(()=>{Z&&0==Z.initialStakeRound&&ex&&ex>0&&Q((0,v._)((0,y._)({},Z),{initialStakeRound:Number(ex)}))},[Z,ex]);var e4=(0,d.g)().handleContractError;(0,l.useEffect)(()=>{en&&e4(en,"token"),eP&&e4(eP,"stake"),eH&&e4(eH,"stake"),e5&&e4(e5,"stake"),eh&&e4(eh,"stake"),ek&&e4(ek,"stake")},[en,eP,eH,e5,eh,ek]);var e6=eI||eV,e3=eM||ez,e7=e6||e3||eT&&eA;(0,l.useEffect)(()=>{!Z||"true"!==ee||ef||ex||G({name:"提示：",message:"新部署的代币，需先质押获取治理票，才能后续操作"})},[Z,ee,ef,ex]),(0,l.useEffect)(()=>{et||er||e7||!Z||!Z.symbol||G({name:"余额不足",message:"您当前".concat(Z.symbol,"数量为0，请先获取").concat(Z.symbol)}),et||el||e7||!Z||!Z.parentTokenSymbol||G({name:"余额不足",message:"您当前".concat(Z.parentTokenSymbol,"数量为0，请先获取").concat(Z.parentTokenSymbol)})},[er,el,Z,et]);var e8=(0,l.useRef)(null),e9=(0,l.useRef)(eI);(0,l.useEffect)(()=>{if(e9.current&&!eI){var e;null==(e=e8.current)||e.blur()}e9.current=eI},[eI]);var se=(0,N._)((0,l.useState)(!1),2),ss=se[0],sa=se[1],st=(0,N._)((0,l.useState)(2.5),2),sn=st[0],sr=st[1],sl=(0,N._)((0,l.useState)(!1),2),si=sl[0],sd=sl[1],so=(0,N._)((0,l.useState)(""),2),sc=so[0],sm=so[1];return!Z||ej||ef?(0,t.jsx)(p.A,{}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"bg-white px-4",children:[(0,t.jsxs)("div",{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-full mx-auto space-y-4",children:[(0,t.jsx)("div",{className:"w-full flex justify-between items-center",children:(0,t.jsx)(D.A,{title:"质押获取治理票："})}),(0,t.jsx)(B.lV,(0,v._)((0,y._)({},eN),{children:(0,t.jsxs)("form",{onSubmit:eN.handleSubmit(function(e){return(0,f._)(function(){var s,a,t,n,r,l;return(0,b.YH)(this,function(d){switch(d.label){case 0:if(!(0,z.C)(O))return[2];if(!(eT&&eA))return j.oR.error("请先完成授权"),[2];if(s=(0,i.XS)(e.stakeToken),a=(0,i.XS)(e.parentToken),null===s||null===a)return j.oR.error("转换金额时出错，请检查输入格式"),[2];t=BigInt(Math.round(10*sn)),n=s*(1000n-t)/1000n,r=a*(1000n-t)/1000n,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,eG(null==Z?void 0:Z.address,s,a,n,r,BigInt(e.releasePeriod),Y)];case 2:return d.sent(),[3,4];case 3:return console.error("Stake failed",l=d.sent()),e4(l,"stake"),[3,4];case 4:return[2]}})})()}),className:"space-y-3",children:[(0,t.jsx)(L.Zp,{children:(0,t.jsx)(L.Wu,{className:"p-3 md:p-6",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"第1步: 填写质押数量"}),(0,t.jsx)(I(),{href:"/dex/swap",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:"获取代币"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsx)(B.zB,{control:eN.control,name:"parentToken",render:e=>{var s=e.field;return(0,t.jsxs)(B.eI,{children:[(0,t.jsx)(L.Zp,{className:"bg-[#f7f8f9] border-none",children:(0,t.jsxs)(L.Wu,{className:"py-4 px-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(F.p,(0,v._)((0,y._)({type:"number",placeholder:"0"},s),{disabled:e7,onChange:e=>{s.onChange(e),e$(!0)},className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("div",{className:"bg-white hover:bg-gray-50 px-3 py-1.5 rounded-full transition-colors ",children:(0,t.jsx)("span",{className:"font-medium text-gray-800",children:null==Z?void 0:Z.parentTokenSymbol})})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[[25,50,75].map(e=>(0,t.jsxs)(M.$,{variant:"outline",size:"sm",type:"button",onClick:()=>{var s=el*BigInt(e)/100n;eN.setValue("parentToken",(0,i.Js)(s),{shouldValidate:!0}),e$(!0)},disabled:e7||el<=0n,className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)),(0,t.jsx)(M.$,{variant:"outline",size:"sm",type:"button",onClick:()=>{eN.setValue("parentToken",(0,i.Js)(el||0n),{shouldValidate:!0}),e$(!0)},disabled:el<=0n,className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,i.NJ)(el)," ",null==Z?void 0:Z.parentTokenSymbol]})]})]})}),(0,t.jsx)(B.C5,{})]})}}),(0,t.jsx)(B.zB,{control:eN.control,name:"stakeToken",render:e=>{var s=e.field;return(0,t.jsxs)(B.eI,{children:[(0,t.jsx)(L.Zp,{className:"bg-[#f7f8f9] border-none",children:(0,t.jsxs)(L.Wu,{className:"py-4 px-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(F.p,(0,v._)((0,y._)({type:"number",placeholder:"0"},s),{disabled:er<=0n,onChange:e=>{s.onChange(e),eY(!0)},className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("div",{className:"bg-white hover:bg-gray-50 px-3 py-1.5 rounded-full transition-colors",children:(0,t.jsx)("span",{className:"font-medium text-gray-800",children:null==Z?void 0:Z.symbol})})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[[25,50,75].map(e=>(0,t.jsxs)(M.$,{variant:"outline",size:"sm",type:"button",onClick:()=>{var s=er*BigInt(e)/100n;eN.setValue("stakeToken",(0,i.Js)(s),{shouldValidate:!0}),eY(!0)},disabled:er<=0n,className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)),(0,t.jsx)(M.$,{variant:"outline",size:"sm",type:"button",onClick:()=>{eN.setValue("stakeToken",(0,i.Js)(er||0n),{shouldValidate:!0}),eY(!0)},disabled:er<=0n,className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,i.NJ)(er)," ",null==Z?void 0:Z.symbol]})]})]})}),(0,t.jsx)(B.C5,{})]})}})]}),eo&&(0,t.jsxs)("div",{className:"space-y-1 text-sm mt-2",children:[(0,t.jsxs)("div",{className:"text-gray-600 flex items-center gap-1",children:[(0,t.jsx)(_.A,{className:"w-4 h-4"}),"质押比例按当前价格计算："]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"text-gray-600",children:ss?(0,t.jsxs)(t.Fragment,{children:["1 ",null==Z?void 0:Z.symbol," ="," ",(0,i.NJ)(BigInt(ea.pairReserveParentToken)*BigInt(1e18)/BigInt(ea.pairReserveToken))," ",null==Z?void 0:Z.parentTokenSymbol]}):(0,t.jsxs)(t.Fragment,{children:["1 ",null==Z?void 0:Z.parentTokenSymbol," ="," ",(0,i.NJ)(BigInt(ea.pairReserveToken)*BigInt(1e18)/BigInt(ea.pairReserveParentToken))," ",null==Z?void 0:Z.symbol]})}),(0,t.jsx)(M.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>sa(!ss),className:"h-6 w-6 p-0 hover:bg-gray-100 transition-colors",title:"切换比例显示",children:(0,t.jsx)(A,{className:"h-3 w-3 text-gray-500"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm mt-2",children:[(0,t.jsxs)("div",{className:"text-gray-600 flex items-center gap-1 mr-2",children:[(0,t.jsx)(E,{className:"w-4 h-4"}),"滑点上限：",sn,"%"]}),(0,t.jsxs)(V.lG,{open:si,onOpenChange:sd,children:[(0,t.jsx)(V.zM,{asChild:!0,children:(0,t.jsxs)(M.$,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-gray-100 transition-colors",title:"设置滑点",children:[(0,t.jsx)(R,{className:"h-3 w-3"}),"设置"]})}),(0,t.jsxs)(V.Cf,{className:"sm:max-w-md",children:[(0,t.jsx)(V.c7,{children:(0,t.jsx)(V.L3,{children:"滑点设置"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"选择滑点"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[.5,1,2.5].map(e=>(0,t.jsxs)(M.$,{type:"button",variant:sn===e?"default":"outline",size:"sm",onClick:()=>{sr(e),sm(""),sd(!1)},className:"text-xs",children:[e,"%"]},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"自定义滑点"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F.p,{type:"number",placeholder:"输入滑点百分比",value:sc,onChange:e=>sm(e.target.value),className:"flex-1",min:"0",max:"50",step:"0.1"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),sc&&(0,t.jsx)(M.$,{type:"button",size:"sm",onClick:()=>{var e=parseFloat(sc);e>=0&&e<=50?(sr(e),sd(!1)):j.oR.error("滑点应在 0-50% 之间")},className:"w-full",children:"应用自定义滑点"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,t.jsx)("p",{children:"• 滑点是指实际执行价格与预期价格之间的差异"}),(0,t.jsx)("p",{children:"• 较低的滑点可能导致交易失败，较高的滑点可能导致不利的价格"}),(0,t.jsx)("p",{children:"• 建议设置在 0.5% - 5% 之间"})]})]})]})]})]})]})})}),(0,t.jsx)(L.Zp,{children:(0,t.jsx)(L.Wu,{className:"p-3 md:p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"第2步: 选择解锁期"})}),(0,t.jsx)(B.zB,{control:eN.control,name:"releasePeriod",render:e=>{var s=e.field;return(0,t.jsxs)(B.eI,{children:[(0,t.jsx)(B.MJ,{children:(0,t.jsxs)(P.l6,{onValueChange:e=>s.onChange(e),value:s.value,children:[(0,t.jsx)(P.bq,{className:"w-full !ring-secondary-foreground",children:(0,t.jsx)(P.yv,{placeholder:"选择解锁期"})}),(0,t.jsx)(P.gC,{children:Array.from({length:ev-ey+1},(e,s)=>s+ey).filter(e=>e>=eg).map(e=>(0,t.jsx)(P.eb,{value:String(e),children:(0,W.u$)(e)},e))})]})}),(0,t.jsx)(B.Rr,{children:'"解锁期" 是指，取消质押后多久才能取回代币 (注意：是从取消质押的阶段结束时开始计算)'}),(0,t.jsx)(B.C5,{})]})}})]})})}),(0,t.jsx)(L.Zp,{children:(0,t.jsx)(L.Wu,{className:"p-3 md:p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"第3步: 授权并存入"})}),(0,t.jsxs)("div",{className:"flex justify-center lg:justify-start space-x-2",children:[(0,t.jsx)(M.$,{type:"button",className:"flex-1 lg:w-auto lg:px-4",ref:e8,disabled:eI||eM||eT,onClick:eN.handleSubmit(function(e){return(0,f._)(function(){var s;return(0,b.YH)(this,function(a){switch(a.label){case 0:if(!(0,z.C)(O))return[2];a.label=1;case 1:if(a.trys.push([1,3,,4]),null===(s=(0,i.XS)(e.stakeToken)))throw Error("无效的输入格式");return[4,eS("0xA6B78658F5327CfaE9FA8d68988520E75b44a396",s)];case 2:return a.sent(),[3,4];case 3:return console.error("Token 授权失败",a.sent()),j.oR.error("token 授权失败，请检查输入格式"),[3,4];case 4:return[2]}})})()}),children:eI?"1.提交中...":eM?"1.确认中...":eT?"1.".concat(null==Z?void 0:Z.symbol,"已授权"):"1.授权".concat(null==Z?void 0:Z.symbol)}),(0,t.jsx)(M.$,{type:"button",className:"flex-1 lg:w-auto lg:px-4",disabled:!eT||eV||ez||eA,onClick:eN.handleSubmit(function(e){return(0,f._)(function(){var s;return(0,b.YH)(this,function(a){switch(a.label){case 0:if(!(0,z.C)(O))return[2];a.label=1;case 1:if(a.trys.push([1,3,,4]),null===(s=(0,i.XS)(e.parentToken)))throw Error("无效的输入格式");return[4,eL("0xA6B78658F5327CfaE9FA8d68988520E75b44a396",s)];case 2:return a.sent(),[3,4];case 3:return console.error("父币授权失败",a.sent()),j.oR.error("父币授权失败，请检查输入格式"),[3,4];case 4:return[2]}})})()}),children:eV?"2.提交中...":ez?"2.确认中...":eA?"2.".concat(null==Z?void 0:Z.parentTokenSymbol,"已授权"):"2.授权".concat(null==Z?void 0:Z.parentTokenSymbol)}),(0,t.jsx)(M.$,{type:"submit",className:"flex-1 lg:w-auto lg:px-4",disabled:!eT||!eA||e0||e2||e1,children:e0?"3.提交中...":e2?"3.确认中...":e1?"3.已提交":"3.提交"})]})]})})})]})}))]}),(0,t.jsx)(X.A,{isLoading:e6||e3||e0||e2||ef&&em,text:e6||e0?"提交交易...":"确认交易..."})]})})},O=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.A,{title:"质押LP"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)(x,{}),(0,t.jsx)(Y,{}),(0,t.jsx)("div",{className:"flex flex-col w-full p-4",children:(0,t.jsxs)("div",{className:"bg-blue-50/30 border-l-4 border-l-blue-50 rounded-r-lg p-4 mb-8 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-base font-bold text-blue-800 pb-2",children:[(0,t.jsx)(_.A,{className:"w-4 h-4"}),"提示"]}),(0,t.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"SL代币："}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"代币对儿由质押合约注入 Uniswap V2 流动性池，并铸造SL代币作为流动性质押凭证"}),(0,t.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理票："}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"所得治理票数 = SL代币数量 * 解锁期阶段数"}),(0,t.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理激励："}),(0,t.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"1、当轮所得治理激励 = 验证激励 + 加速激励"}),(0,t.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"2、单个地址的验证激励：当轮治理总激励 * 50% * 该地址行使验证权的治理票数 / 行使验权的治理票总数"}),(0,t.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"3、单个地址的加速激励：当轮治理总激励 * 50% * 该地址质押代币数量 / 质押代币总数量"}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"4、溢出：单个地址的加速激励 超过验证激励 2 倍以上的部分，为溢出激励，自动销毁，归入未来总激励"})]})})]})]})},28638:(e,s,a)=>{"use strict";a.d(s,{BT:()=>m,Wu:()=>u,ZB:()=>c,Zp:()=>d,aR:()=>o,wL:()=>p});var t=a(3576),n=a(65699),r=a(37876),l=a(14232),i=a(30684),d=l.forwardRef((e,s)=>{var a=e.className,l=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a)},l))});d.displayName="Card";var o=l.forwardRef((e,s)=>{var a=e.className,l=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a)},l))});o.displayName="CardHeader";var c=l.forwardRef((e,s)=>{var a=e.className,l=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a)},l))});c.displayName="CardTitle";var m=l.forwardRef((e,s)=>{var a=e.className,l=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a)},l))});m.displayName="CardDescription";var u=l.forwardRef((e,s)=>{var a=e.className,l=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("p-6 pt-0",a)},l))});u.displayName="CardContent";var p=l.forwardRef((e,s)=>{var a=e.className,l=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",a)},l))});p.displayName="CardFooter"},63346:(e,s,a)=>{"use strict";a.d(s,{D:()=>c,E:()=>m});var t=a(16927),n=a(4902),r=a(14232),l=a(38967),i=a(92165),d=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"WETHAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"contributeFirstTokenWithETH",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"init",inputs:[{name:"WETHAddress_",type:"address",internalType:"address"},{name:"launchAddress_",type:"address",internalType:"address"},{name:"stakeAddress_",type:"address",internalType:"address"},{name:"submitAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"joinAddress_",type:"address",internalType:"address"},{name:"verifyAddress_",type:"address",internalType:"address"},{name:"mintAddress_",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"joinAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"launchAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"mintAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakeLiquidity",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenAmount",type:"uint256",internalType:"uint256"},{name:"parentTokenAmount",type:"uint256",internalType:"uint256"},{name:"tokenAmountMin",type:"uint256",internalType:"uint256"},{name:"parentTokenAmountMin",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"to",type:"address",internalType:"address"}],outputs:[{name:"govVotesAdded",type:"uint256",internalType:"uint256"},{name:"slAmountAdded",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"submitAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"verifyAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"ContributeFirstTokenWithETH",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLiquidity",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenAmountDesired",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountDesired",type:"uint256",indexed:!1,internalType:"uint256"},{name:"tokenAmountReal",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountReal",type:"uint256",indexed:!1,internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],o="0xA6B78658F5327CfaE9FA8d68988520E75b44a396";function c(){var e=(0,l.VR)(d,o,"contributeFirstTokenWithETH"),s=e.execute,a=e.isPending,c=e.isConfirming,m=e.isConfirmed,u=e.error,p=e.hash,x=e.isTukeMode;return(0,r.useEffect)(()=>{p&&console.log("contributeFirstTokenWithETH tx hash:",p),u&&(console.log("提交contributeWithETH交易错误:"),(0,i.YN)(u),(0,i.vV)(u))},[p,u]),{contribute:(e,a,r)=>(0,t._)(function(){return(0,n.YH)(this,function(t){switch(t.label){case 0:return console.log("提交contributeWithETH交易:",{tokenAddress:e,to:a,ethAmount:r,isTukeMode:x}),[4,s([e,a],r)];case 1:return[2,t.sent()]}})})(),isPending:a,isConfirming:c,writeError:u,isConfirmed:m,hash:p,isTukeMode:x}}function m(){var e=(0,l.VR)(d,o,"stakeLiquidity"),s=e.execute,a=e.isPending,c=e.isConfirming,m=e.isConfirmed,u=e.error,p=e.hash,x=e.isTukeMode;return(0,r.useEffect)(()=>{p&&console.log("stakeLiquidity tx hash:",p),u&&(console.log("提交stakeLiquidity交易错误:"),(0,i.YN)(u),(0,i.vV)(u))},[p,u]),{stakeLiquidity:(e,a,r,l,i,d,o)=>(0,t._)(function(){return(0,n.YH)(this,function(t){switch(t.label){case 0:return console.log("提交stakeLiquidity交易:",{tokenAddress:e,tokenAmount:a,parentTokenAmount:r,tokenAmountMin:l,parentTokenAmountMin:i,promisedWaitingPhases:d,to:o,isTukeMode:x}),[4,s([e,a,r,l,i,d,o])];case 1:return[2,t.sent()]}})})(),isPending:a,isConfirming:c,isConfirmed:m,writeError:u,hash:p,isTukeMode:x}}},75695:(e,s,a)=>{"use strict";a.d(s,{A:()=>p});var t=a(16927),n=a(40854),r=a(4902),l=a(37876),i=a(14232),d=a(7446),o=a(95167),c=a(8047),m=a(44571),u=a(97685);function p(e){var s=e.tokenAddress,a=e.tokenSymbol,p=e.tokenDecimals,x=e.tokenImage,f=(0,n._)((0,i.useState)(!1),2),h=f[0],y=f[1],v=(0,c.F)().isConnected,N=(0,m.G)().data;return a.length>11?null:(0,l.jsx)("button",{onClick:()=>(0,t._)(function(){return(0,r.YH)(this,function(e){switch(e.label){case 0:if(!v)return alert("请先连接你的钱包"),[2];y(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!N)return alert("无法获取钱包客户端"),[2];return[4,N.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:s,symbol:a,decimals:p,image:x}}})];case 2:return e.sent()?u.Ay.success("代币已成功添加到 MetaMask 钱包"):u.Ay.error("用户拒绝添加代币"),[3,5];case 3:return console.error("添加代币失败:",e.sent()),u.Ay.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return y(!1),[7];case 5:return[2]}})})(),disabled:h,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",children:h?(0,l.jsx)(d.A,{className:"h-4 w-4 animate-spin"}):(0,l.jsx)(o.A,{className:"h-4 w-4 text-greyscale-500"})})}},78256:(e,s,a)=>{"use strict";a.d(s,{bq:()=>f,eb:()=>N,gC:()=>v,l6:()=>p,yv:()=>x});var t=a(3576),n=a(62701),r=a(65699),l=a(37876),i=a(14232),d=a(72766),o=a(30822),c=a(21575),m=a(33276),u=a(30684),p=d.bL;d.YJ;var x=d.WT,f=i.forwardRef((e,s)=>{var a=e.className,i=e.children,c=(0,r._)(e,["className","children"]);return(0,l.jsxs)(d.l9,(0,n._)((0,t._)({ref:s,className:(0,u.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},c),{children:[i,(0,l.jsx)(d.In,{asChild:!0,children:(0,l.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]}))});f.displayName=d.l9.displayName;var h=i.forwardRef((e,s)=>{var a=e.className,i=(0,r._)(e,["className"]);return(0,l.jsx)(d.PP,(0,n._)((0,t._)({ref:s,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",a)},i),{children:(0,l.jsx)(c.A,{className:"h-4 w-4"})}))});h.displayName=d.PP.displayName;var y=i.forwardRef((e,s)=>{var a=e.className,i=(0,r._)(e,["className"]);return(0,l.jsx)(d.wn,(0,n._)((0,t._)({ref:s,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",a)},i),{children:(0,l.jsx)(o.A,{className:"h-4 w-4"})}))});y.displayName=d.wn.displayName;var v=i.forwardRef((e,s)=>{var a=e.className,i=e.children,o=e.position,c=void 0===o?"popper":o,m=(0,r._)(e,["className","children","position"]);return(0,l.jsx)(d.ZL,{children:(0,l.jsxs)(d.UC,(0,n._)((0,t._)({ref:s,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c},m),{children:[(0,l.jsx)(h,{}),(0,l.jsx)(d.LM,{className:(0,u.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,l.jsx)(y,{})]}))})});v.displayName=d.UC.displayName,i.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)(d.JU,(0,t._)({ref:s,className:(0,u.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},n))}).displayName=d.JU.displayName;var N=i.forwardRef((e,s)=>{var a=e.className,i=e.children,o=(0,r._)(e,["className","children"]);return(0,l.jsxs)(d.q7,(0,n._)((0,t._)({ref:s,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},o),{children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(d.VF,{children:(0,l.jsx)(m.A,{className:"h-4 w-4"})})}),(0,l.jsx)(d.p4,{children:i})]}))});N.displayName=d.q7.displayName,i.forwardRef((e,s)=>{var a=e.className,n=(0,r._)(e,["className"]);return(0,l.jsx)(d.wv,(0,t._)({ref:s,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",a)},n))}).displayName=d.wv.displayName},87577:(e,s,a)=>{"use strict";a.d(s,{A:()=>m});var t=a(40854),n=a(37876),r=a(14232),l=a(48447),i=a(33276),d=a(70801),o=a(97685),c=a(20442);let m=e=>{var s=e.address,a=e.word,m=e.showCopyButton,u=e.showAddress,p=void 0===u||u,x=e.colorClassName,f=void 0===x?"":x,h=e.colorClassName2,y=void 0===h?"":h,v=(0,t._)((0,r.useState)(!1),2),N=v[0],b=v[1];return(0,n.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[a&&(0,n.jsx)("span",{className:"text-xs",children:a}),p&&!y&&(0,n.jsx)("span",{className:"font-mono text-xs ".concat(null!=f?f:"text-greyscale-500"),children:(0,c.W_)(s)}),p&&y&&(0,n.jsxs)("span",{className:"text-[0px]",children:[(0,n.jsx)("span",{className:"font-mono text-xs ".concat(null!=f?f:"text-greyscale-500"),children:"".concat(s.substring(0,6),"...")}),(0,n.jsx)("span",{className:"font-mono text-xs ".concat(y),children:"".concat(s.substring(s.length-4))})]}),(void 0===m||m)&&(0,n.jsx)(l.CopyToClipboard,{text:s,onCopy:(e,s)=>{s?b(!0):o.Ay.error("复制失败")},children:(0,n.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:N?(0,n.jsx)(i.A,{className:"h-4 w-4 ".concat(null!=f?f:"text-greyscale-500")}):(0,n.jsx)(d.A,{className:"h-4 w-4 ".concat(null!=f?f:"text-greyscale-500")})})})]})}},92659:(e,s,a)=>{"use strict";a.d(s,{lV:()=>h,MJ:()=>k,Rr:()=>w,zB:()=>v,eI:()=>g,lR:()=>j,C5:()=>T});var t=a(81110),n=a(40120),r=a(3576),l=a(62701),i=a(65699),d=a(37876),o=a(14232),c=a(82987),m=a(88992),u=a(30684),p=a(59773),x=(0,a(47137).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=o.forwardRef((e,s)=>{var a=e.className,t=(0,i._)(e,["className"]);return(0,d.jsx)(p.b,(0,r._)({ref:s,className:(0,u.cn)(x(),a)},t))});f.displayName=p.b.displayName;var h=m.Op,y=o.createContext({}),v=e=>{var s=(0,t._)({},(0,n._)(e));return(0,d.jsx)(y.Provider,{value:{name:s.name},children:(0,d.jsx)(m.xI,(0,r._)({},s))})},N=()=>{var e=o.useContext(y),s=o.useContext(b),a=(0,m.xW)(),t=a.getFieldState,n=a.formState,l=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");var i=s.id;return(0,r._)({id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message")},l)},b=o.createContext({}),g=o.forwardRef((e,s)=>{var a=e.className,t=(0,i._)(e,["className"]),n=o.useId();return(0,d.jsx)(b.Provider,{value:{id:n},children:(0,d.jsx)("div",(0,r._)({ref:s,className:(0,u.cn)("space-y-2",a)},t))})});g.displayName="FormItem";var j=o.forwardRef((e,s)=>{var a=e.className,t=(0,i._)(e,["className"]),n=N(),l=n.error,o=n.formItemId;return(0,d.jsx)(f,(0,r._)({ref:s,className:(0,u.cn)(l&&"text-destructive",a),htmlFor:o},t))});j.displayName="FormLabel";var k=o.forwardRef((e,s)=>{var a=(0,t._)({},(0,n._)(e)),l=N(),i=l.error,o=l.formItemId,m=l.formDescriptionId,u=l.formMessageId;return(0,d.jsx)(c.DX,(0,r._)({ref:s,id:o,"aria-describedby":i?"".concat(m," ").concat(u):"".concat(m),"aria-invalid":!!i},a))});k.displayName="FormControl";var w=o.forwardRef((e,s)=>{var a=e.className,t=(0,i._)(e,["className"]),n=N().formDescriptionId;return(0,d.jsx)("p",(0,r._)({ref:s,id:n,className:(0,u.cn)("text-sm text-muted-foreground",a)},t))});w.displayName="FormDescription";var T=o.forwardRef((e,s)=>{var a=e.className,t=e.children,n=(0,i._)(e,["className","children"]),o=N(),c=o.error,m=o.formMessageId,p=c?String(null==c?void 0:c.message):t;return p?(0,d.jsx)("p",(0,l._)((0,r._)({ref:s,id:m,className:(0,u.cn)("text-sm font-medium text-destructive",a)},n),{children:p})):null});T.displayName="FormMessage"},95167:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var t=(0,a(11713).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])}},e=>{e.O(0,[3308,7460,8230,9985,4571,5131,154,3096,5139,6952,636,6593,8792],()=>e(e.s=2316)),_N_E=e.O()}]);