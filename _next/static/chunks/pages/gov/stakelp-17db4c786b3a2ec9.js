try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="38971984-ab86-4f2d-b05b-0e2f18237c1d",e._sentryDebugIdIdentifier="sentry-dbid-38971984-ab86-4f2d-b05b-0e2f18237c1d")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1828],{52340:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gov/stakelp",function(){return t(27143)}])},82950:function(e,n,t){"use strict";t.d(n,{Ol:function(){return d},SZ:function(){return u},Zb:function(){return o},aY:function(){return m},eW:function(){return f},ll:function(){return c}});var s=t(72253),a=t(47702),r=t(85893),i=t(67294),l=t(80513),o=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},i))});o.displayName="Card";var d=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t)},i))});d.displayName="CardHeader";var c=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t)},i))});c.displayName="CardTitle";var u=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,l.cn)("text-sm text-muted-foreground",t)},i))});u.displayName="CardDescription";var m=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,l.cn)("p-6 pt-0",t)},i))});m.displayName="CardContent";var f=i.forwardRef(function(e,n){var t=e.className,i=(0,a._)(e,["className"]);return(0,r.jsx)("div",(0,s._)({ref:n,className:(0,l.cn)("flex items-center p-6 pt-0",t)},i))});f.displayName="CardFooter"},89428:function(e,n,t){"use strict";t.d(n,{$N:function(){return v},Be:function(){return g},Vq:function(){return u},cN:function(){return y},cZ:function(){return x},fK:function(){return h},hg:function(){return m}});var s=t(72253),a=t(14932),r=t(47702),i=t(85893),l=t(67294),o=t(12854),d=t(28154),c=t(80513),u=o.fC,m=o.xz,f=o.h_;o.x8;var p=l.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(o.aV,(0,s._)({ref:n,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},a))});p.displayName=o.aV.displayName;var x=l.forwardRef(function(e,n){var t=e.className,l=e.children,u=(0,r._)(e,["className","children"]);return(0,i.jsxs)(f,{children:[(0,i.jsx)(p,{}),(0,i.jsxs)(o.VY,(0,a._)((0,s._)({ref:n,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},u),{children:[l,(0,i.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(d.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});x.displayName=o.VY.displayName;var h=function(e){var n=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,s._)({className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n)},t))};h.displayName="DialogHeader";var y=function(e){var n=e.className,t=(0,r._)(e,["className"]);return(0,i.jsx)("div",(0,s._)({className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},t))};y.displayName="DialogFooter";var v=l.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(o.Dx,(0,s._)({ref:n,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t)},a))});v.displayName=o.Dx.displayName;var g=l.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(o.dk,(0,s._)({ref:n,className:(0,c.cn)("text-sm text-muted-foreground",t)},a))});g.displayName=o.dk.displayName},83149:function(e,n,t){"use strict";t.d(n,{l0:function(){return h},NI:function(){return k},pf:function(){return w},Wi:function(){return v},xJ:function(){return N},lX:function(){return j},zG:function(){return _}});var s=t(34788),a=t(12796),r=t(72253),i=t(14932),l=t(47702),o=t(85893),d=t(67294),c=t(88426),u=t(87536),m=t(80513),f=t(49102),p=(0,t(12003).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=d.forwardRef(function(e,n){var t=e.className,s=(0,l._)(e,["className"]);return(0,o.jsx)(f.f,(0,r._)({ref:n,className:(0,m.cn)(p(),t)},s))});x.displayName=f.f.displayName;var h=u.RV,y=d.createContext({}),v=function(e){var n=(0,s._)({},(0,a._)(e));return(0,o.jsx)(y.Provider,{value:{name:n.name},children:(0,o.jsx)(u.Qr,(0,r._)({},n))})},g=function(){var e=d.useContext(y),n=d.useContext(b),t=(0,u.Gc)(),s=t.getFieldState,a=t.formState,i=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");var l=n.id;return(0,r._)({id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message")},i)},b=d.createContext({}),N=d.forwardRef(function(e,n){var t=e.className,s=(0,l._)(e,["className"]),a=d.useId();return(0,o.jsx)(b.Provider,{value:{id:a},children:(0,o.jsx)("div",(0,r._)({ref:n,className:(0,m.cn)("space-y-2",t)},s))})});N.displayName="FormItem";var j=d.forwardRef(function(e,n){var t=e.className,s=(0,l._)(e,["className"]),a=g(),i=a.error,d=a.formItemId;return(0,o.jsx)(x,(0,r._)({ref:n,className:(0,m.cn)(i&&"text-destructive",t),htmlFor:d},s))});j.displayName="FormLabel";var k=d.forwardRef(function(e,n){var t=(0,s._)({},(0,a._)(e)),i=g(),l=i.error,d=i.formItemId,u=i.formDescriptionId,m=i.formMessageId;return(0,o.jsx)(c.g7,(0,r._)({ref:n,id:d,"aria-describedby":l?"".concat(u," ").concat(m):"".concat(u),"aria-invalid":!!l},t))});k.displayName="FormControl";var w=d.forwardRef(function(e,n){var t=e.className,s=(0,l._)(e,["className"]),a=g().formDescriptionId;return(0,o.jsx)("p",(0,r._)({ref:n,id:a,className:(0,m.cn)("text-sm text-muted-foreground",t)},s))});w.displayName="FormDescription";var _=d.forwardRef(function(e,n){var t=e.className,s=e.children,a=(0,l._)(e,["className","children"]),d=g(),c=d.error,u=d.formMessageId,f=c?String(null==c?void 0:c.message):s;return f?(0,o.jsx)("p",(0,i._)((0,r._)({ref:n,id:u,className:(0,m.cn)("text-sm font-medium text-destructive",t)},a),{children:f})):null});_.displayName="FormMessage"},31484:function(e,n,t){"use strict";t.d(n,{Bw:function(){return v},Ph:function(){return f},Ql:function(){return g},i4:function(){return x},ki:function(){return p}});var s=t(72253),a=t(14932),r=t(47702),i=t(85893),l=t(67294),o=t(76405),d=t(51568),c=t(54098),u=t(3785),m=t(80513),f=o.fC;o.ZA;var p=o.B4,x=l.forwardRef(function(e,n){var t=e.className,l=e.children,c=(0,r._)(e,["className","children"]);return(0,i.jsxs)(o.xz,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t)},c),{children:[l,(0,i.jsx)(o.JO,{asChild:!0,children:(0,i.jsx)(d.Z,{className:"h-4 w-4 opacity-50"})})]}))});x.displayName=o.xz.displayName;var h=l.forwardRef(function(e,n){var t=e.className,l=(0,r._)(e,["className"]);return(0,i.jsx)(o.u_,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t)},l),{children:(0,i.jsx)(c.Z,{className:"h-4 w-4"})}))});h.displayName=o.u_.displayName;var y=l.forwardRef(function(e,n){var t=e.className,l=(0,r._)(e,["className"]);return(0,i.jsx)(o.$G,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",t)},l),{children:(0,i.jsx)(d.Z,{className:"h-4 w-4"})}))});y.displayName=o.$G.displayName;var v=l.forwardRef(function(e,n){var t=e.className,l=e.children,d=e.position,c=void 0===d?"popper":d,u=(0,r._)(e,["className","children","position"]);return(0,i.jsx)(o.h_,{children:(0,i.jsxs)(o.VY,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:c},u),{children:[(0,i.jsx)(h,{}),(0,i.jsx)(o.l_,{className:(0,m.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,i.jsx)(y,{})]}))})});v.displayName=o.VY.displayName,l.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(o.__,(0,s._)({ref:n,className:(0,m.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t)},a))}).displayName=o.__.displayName;var g=l.forwardRef(function(e,n){var t=e.className,l=e.children,d=(0,r._)(e,["className","children"]);return(0,i.jsxs)(o.ck,(0,a._)((0,s._)({ref:n,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},d),{children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(o.wU,{children:(0,i.jsx)(u.Z,{className:"h-4 w-4"})})}),(0,i.jsx)(o.eT,{children:l})]}))});g.displayName=o.ck.displayName,l.forwardRef(function(e,n){var t=e.className,a=(0,r._)(e,["className"]);return(0,i.jsx)(o.Z0,(0,s._)({ref:n,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",t)},a))}).displayName=o.Z0.displayName},3743:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(1462).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},43447:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var s=t(11010),a=t(91309),r=t(97582),i=t(85893),l=t(67294),o=t(45197),d=t(3743),c=t(20975),u=t(38545),m=t(86501),f=t(64394);function p(e){var n,t=e.tokenAddress,p=e.tokenSymbol,x=e.tokenDecimals,h=e.tokenImage,y=(0,a._)((0,l.useState)(!1),2),v=y[0],g=y[1],b=(0,c.m)().isConnected,N=(0,u.p)().data,j=(n=(0,s._)(function(){return(0,r.Jh)(this,function(e){switch(e.label){case 0:if(!b)return alert("请先连接你的钱包"),[2];g(!0),e.label=1;case 1:if(e.trys.push([1,3,4,5]),!N)return alert("无法获取钱包客户端"),[2];return[4,N.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:p,decimals:x,image:h}}})];case 2:return e.sent()?m.ZP.success("代币已成功添加到 MetaMask 钱包"):m.ZP.error("用户拒绝添加代币"),[3,5];case 3:return e.sent(),m.ZP.error("添加代币失败，请检查控制台以获取更多信息"),[3,5];case 4:return g(!1),[7];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return p.length>11||(0,f.ON)()?null:(0,i.jsx)("button",{onClick:j,disabled:v,className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:v?(0,i.jsx)(o.Z,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(d.Z,{className:"h-4 w-4 text-greyscale-500"})})}},25223:function(e,n,t){"use strict";var s=t(91309),a=t(85893),r=t(67294),i=t(74855),l=t(3785),o=t(19710),d=t(86501),c=t(99019);n.Z=function(e){var n=e.address,t=e.word,u=e.showCopyButton,m=e.showAddress,f=void 0===m||m,p=e.colorClassName,x=void 0===p?"":p,h=e.colorClassName2,y=void 0===h?"":h,v=(0,s._)((0,r.useState)(!1),2),g=v[0],b=v[1];return(0,a.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,a.jsx)("span",{className:"text-xs",children:t}),f&&!y&&(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=x?x:"text-greyscale-500"),children:(0,c.Vu)(n)}),f&&y&&(0,a.jsxs)("span",{className:"text-[0px]",children:[(0,a.jsx)("span",{className:"font-mono text-xs ".concat(null!=x?x:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,a.jsx)("span",{className:"font-mono text-xs ".concat(y),children:"".concat(n.substring(n.length-4))})]}),(void 0===u||u)&&(0,a.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?b(!0):d.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:function(e){e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:g?(0,a.jsx)(l.Z,{className:"h-4 w-4 ".concat(null!=x?x:"text-greyscale-500")}):(0,a.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=x?x:"text-greyscale-500")})})})]})}},761:function(e,n,t){"use strict";var s=t(85893),a=t(45197);n.Z=function(){return(0,s.jsx)(a.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},38318:function(e,n,t){"use strict";t.d(n,{E:function(){return c},X:function(){return u}});var s=t(11010),a=t(97582),r=t(67294),i=t(53260),l=t(42380),o=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"WETHAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"contributeFirstTokenWithETH",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"init",inputs:[{name:"WETHAddress_",type:"address",internalType:"address"},{name:"launchAddress_",type:"address",internalType:"address"},{name:"stakeAddress_",type:"address",internalType:"address"},{name:"submitAddress_",type:"address",internalType:"address"},{name:"voteAddress_",type:"address",internalType:"address"},{name:"joinAddress_",type:"address",internalType:"address"},{name:"verifyAddress_",type:"address",internalType:"address"},{name:"mintAddress_",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"joinAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"launchAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"mintAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"stakeLiquidity",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"tokenAmount",type:"uint256",internalType:"uint256"},{name:"parentTokenAmount",type:"uint256",internalType:"uint256"},{name:"tokenAmountMin",type:"uint256",internalType:"uint256"},{name:"parentTokenAmountMin",type:"uint256",internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",internalType:"uint256"},{name:"to",type:"address",internalType:"address"}],outputs:[{name:"govVotesAdded",type:"uint256",internalType:"uint256"},{name:"slAmountAdded",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"submitAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"verifyAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"voteAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"event",name:"ContributeFirstTokenWithETH",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"StakeLiquidity",inputs:[{name:"tokenAddress",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"tokenAmountDesired",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountDesired",type:"uint256",indexed:!1,internalType:"uint256"},{name:"tokenAmountReal",type:"uint256",indexed:!1,internalType:"uint256"},{name:"parentTokenAmountReal",type:"uint256",indexed:!1,internalType:"uint256"},{name:"promisedWaitingPhases",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],d="0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE";function c(){var e,n=(0,i.e9)(o,d,"contributeFirstTokenWithETH"),t=n.execute,c=n.isPending,u=n.isConfirming,m=n.isConfirmed,f=n.error,p=n.hash,x=n.isTukeMode,h=(e=(0,s._)(function(e,n,s){return(0,a.Jh)(this,function(a){switch(a.label){case 0:return[4,t([e,n],s)];case 1:return[2,a.sent()]}})}),function(n,t,s){return e.apply(this,arguments)});return(0,r.useEffect)(function(){f&&((0,l.Vh)(f),(0,l.H)(f))},[p,f]),{contribute:h,isPending:c,isConfirming:u,writeError:f,isConfirmed:m,hash:p,isTukeMode:x}}function u(){var e,n=(0,i.e9)(o,d,"stakeLiquidity"),t=n.execute,c=n.isPending,u=n.isConfirming,m=n.isConfirmed,f=n.error,p=n.hash,x=n.isTukeMode,h=(e=(0,s._)(function(e,n,s,r,i,l,o){return(0,a.Jh)(this,function(a){switch(a.label){case 0:return[4,t([e,n,s,r,i,l,o])];case 1:return[2,a.sent()]}})}),function(n,t,s,a,r,i,l){return e.apply(this,arguments)});return(0,r.useEffect)(function(){f&&((0,l.Vh)(f),(0,l.H)(f))},[p,f]),{stakeLiquidity:h,isPending:c,isConfirming:u,isConfirmed:m,writeError:f,hash:p,isTukeMode:x}}},56566:function(e,n,t){"use strict";t.d(n,{Cn:function(){return l},IS:function(){return r},Tn:function(){return i},iF:function(){return o}});var s=t(99019),a=t(30460),r=function(e,n,t){if(!e||!n)return"0%";var r=31536e6/Number("2868"),i=(0,a.Zu)("30126");if(0===r||i===BigInt(0))return"0%";var l=(n*BigInt(2)||BigInt(0))+(t||BigInt(0));if(l===BigInt(0))return"0%";var o=Number(e)/Number(l)/(Number(i)/r)*100;return(0,s.rl)(o)},i=function(e,n){if(!e||!n||n===BigInt(0))return"∞";var t=31536e6/Number("2868"),r=(0,a.Zu)("30126");if(0===t||r===BigInt(0))return"0%";var i=Number(e)/Number(n)/(Number(r)/t)*100;return(0,s.rl)(i)},l=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=Number("30126")||0,a=Number("2868")||0,r=e*s,i=Math.ceil(r*a/100);n=i>=86400?"".concat(Math.ceil(i/86400),"天"):i>=3600?"".concat(Math.ceil(i/3600),"小时"):"".concat(Math.ceil(i/60),"分钟");var l="".concat(r.toLocaleString(),"区块，约").concat(n);return t||(l="".concat(e,"个阶段（").concat(l,")")),l},o=function(e,n){if(!e)return BigInt(0);var t=BigInt(1e3)-(0,a.Zu)("1")-(0,a.Zu)("1");return BigInt(0),n<=BigInt(1)?e*(0,a.Zu)("1")/BigInt(1e3):e*t*(0,a.Zu)("1")/BigInt(1e6)}},27143:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Q}});var s=t(85893),a=t(81231),r=t(20975),i=t(67294),l=t(99019),o=t(99522),d=t(30449),c=t(41192),u=t(43447),m=t(25223),f=t(761),p=function(e){var n=e.token,t=(0,r.m)().address,a=(0,i.useContext)(c.M)||{},p=a.token;a.setToken,a.clearToken;var x=n||p,h=(0,d.L)(null==x?void 0:x.address,t),y=h.slAmount,v=h.govVotes,g=h.isPending,b=h.error,N=(0,o.S)().handleContractError;return((0,i.useEffect)(function(){b&&N(b,"stake")},[b,N]),t)?!x||g?(0,s.jsx)(f.Z,{}):g||y?(0,s.jsx)("div",{className:"flex-col items-center px-4 py-2 mb-4",children:(0,s.jsxs)("div",{className:"stats bg-gray-100  w-full grid grid-cols-[1fr_2fr] divide-x-0 pt-4",children:[(0,s.jsxs)("div",{className:"stat place-items-center pt-0",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"我的治理票数"}),(0,s.jsx)("div",{className:"stat-value text-xl",children:g?(0,s.jsx)(f.Z,{}):(0,l.LH)(v||BigInt(0))})]}),(0,s.jsxs)("div",{className:"stat place-items-center pt-0",children:[(0,s.jsxs)("div",{className:"stat-title text-sm flex items-center",children:["流动性质押凭证SL代币",(0,s.jsx)(m.Z,{address:x.slTokenAddress,showAddress:!1}),(0,s.jsx)(u.Z,{tokenAddress:x.slTokenAddress,tokenSymbol:"sl"+x.symbol,tokenDecimals:x.decimals})]}),(0,s.jsx)("div",{className:"stat-value text-xl",children:g?(0,s.jsx)(f.Z,{}):(0,l.LH)(y||BigInt(0))})]})]})}):(0,s.jsx)(s.Fragment,{}):(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})},x=t(11010),h=t(12796),y=t(72253),v=t(14932),g=t(91309),b=t(97582),N=t(11163),j=t(86501),k=t(63448),w=t(56312),_=t(87536),T=t(45090),I=t(1462),C=(0,I.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),A=(0,I.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),B=(0,I.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Z=t(41664),E=t.n(Z),S=t(1504),z=t(83149),M=t(31484),P=t(33582),R=t(82950),V=t(89428),D=t(56566),F=t(62710),L=t(907),W=t(24601),H=t(56946),q=t(95148),J=t(30460),O="0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE",Y=function(e){var n=e.account,t=e.tokenAddress,s=e.parentTokenAddress,a=(0,i.useMemo)(function(){return n&&t&&s?[{address:"0x1DC7e680D833fF3470A3280eE663b27BC56fc32c",abi:H.z,functionName:"tokenPairInfoWithAccount",args:[n,t]},{address:t,abi:q.O,functionName:"allowance",args:[n,O]},{address:s,abi:q.O,functionName:"allowance",args:[n,O]}]:[]},[n,t,s]),r=(0,W.N)({contracts:a,query:{enabled:!!n&&!!t&&!!s&&a.length>0}}),l=r.data,o=r.isPending,d=r.error;return(0,i.useMemo)(function(){if(!l||!n||!t||!s)return{pairInfo:void 0,allowanceToken:void 0,allowanceParentToken:void 0,isPending:o,error:d};var e=(0,g._)(l,3),a=e[0],r=e[1],i=e[2];return{pairInfo:null==a?void 0:a.result,allowanceToken:(null==r?void 0:r.result)?(0,J.Zu)(r.result):void 0,allowanceParentToken:(null==i?void 0:i.result)?(0,J.Zu)(i.result):void 0,isPending:o,error:d}},[l,n,t,s,o,d])},$=t(38318),G=t(41944),X=t(26749),K=function(e){(0,h._)(e);var n,t,a,u,m=function(){j.Am.success("质押成功"),setTimeout(function(){window.location.href="".concat("/interface","/gov?symbol=").concat(null==Z?void 0:Z.symbol)},2e3)},p=(0,r.m)().address,I=(0,i.useContext)(c.M);if(!I)throw Error("TokenContext 必须在 TokenProvider 内使用");var Z=I.token,W=I.setToken,H=I.clearToken,q=(0,F.V)().setError,J=(0,N.useRouter)().query.first,O=Y({account:p,tokenAddress:null==Z?void 0:Z.address,parentTokenAddress:null==Z?void 0:Z.parentTokenAddress}),K=O.pairInfo,Q=O.allowanceToken,U=O.allowanceParentToken,ee=O.isPending,en=O.error,et=null!==(n=null==K?void 0:K.balanceOfToken)&&void 0!==n?n:BigInt(0),es=null!==(t=null==K?void 0:K.balanceOfParentToken)&&void 0!==t?t:BigInt(0),ea=K&&BigInt(K.pairReserveToken)>BigInt(0)&&BigInt(K.pairReserveParentToken)>BigInt(0),er=(0,g._)((0,i.useState)(!1),2),ei=er[0],el=er[1],eo=(0,d.VL)(null==Z?void 0:Z.address),ed=eo.initialStakeRound,ec=eo.isPending,eu=eo.error,em=Number("30")||4,ef=Number("120")||12,ep=(0,_.cI)({resolver:(0,w.F)((a=es||BigInt(0),u=et||BigInt(0),k.Ry({parentToken:k.dj(function(e){if("string"!=typeof e)return e;var n=e.replace(/。/g,".");return n.startsWith(".")&&(n="0"+n),n},k.Z_().regex(/^\d+(\.\d{1,18})?$/,"请输入合法数值，最多支持18位小数").refine(function(e){var n=(0,l.vz)(e);return null!==n&&n>BigInt(0)},"质押父币数不能为 0").refine(function(e){var n=(0,l.vz)(e);return null!==n&&n<=a},"质押父币数不能超过当前持有")),stakeToken:k.dj(function(e){if("string"!=typeof e)return e;var n=e.replace(/。/g,".");return n.startsWith(".")&&(n="0"+n),n},k.Z_().regex(/^\d+(\.\d{1,18})?$/,"请输入合法数值，最多支持18位小数").refine(function(e){var n=(0,l.vz)(e);return null!==n&&n>BigInt(0)},"质押 token 数不能为 0").refine(function(e){var n=(0,l.vz)(e);return null!==n&&n<=u},"质押 token 数不能超过当前持有")),releasePeriod:k.Z_().min(1,"请选择解锁期")}))),defaultValues:{parentToken:"",stakeToken:"",releasePeriod:""},mode:"onChange"}),ex=(0,d.L)(null==Z?void 0:Z.address,p),eh=(ex.govVotes,ex.promisedWaitingPhases),ey=ex.isPending,ev=ex.error,eg=(0,g._)((0,i.useState)(!1),2),eb=eg[0],eN=eg[1],ej=(0,g._)((0,i.useState)(!1),2),ek=ej[0],ew=ej[1],e_=(0,L.yA)(null==Z?void 0:Z.address),eT=e_.approve,eI=e_.isPending,eC=e_.isConfirming,eA=e_.isConfirmed,eB=e_.writeError,eZ=(0,L.yA)(null==Z?void 0:Z.parentTokenAddress),eE=eZ.approve,eS=eZ.isPending,ez=eZ.isConfirming,eM=eZ.isConfirmed,eP=eZ.writeError;function eR(){return(eR=(0,x._)(function(e){var n;return(0,b.Jh)(this,function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),null===(n=(0,l.vz)(e.stakeToken)))throw Error("无效的输入格式");return[4,eT("0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE",n)];case 1:return t.sent(),[3,3];case 2:return t.sent(),j.Am.error("token 授权失败，请检查输入格式"),[3,3];case 3:return[2]}})})).apply(this,arguments)}function eV(){return(eV=(0,x._)(function(e){var n;return(0,b.Jh)(this,function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),null===(n=(0,l.vz)(e.parentToken)))throw Error("无效的输入格式");return[4,eE("0xbc8c89d8f3Cb1DDb6625e13D3F5487CAcbd396EE",n)];case 1:return t.sent(),[3,3];case 2:return t.sent(),j.Am.error("父币授权失败，请检查输入格式"),[3,3];case 3:return[2]}})})).apply(this,arguments)}(0,i.useEffect)(function(){eA&&(eN(!0),j.Am.success("授权".concat(null==Z?void 0:Z.symbol,"成功")))},[eA]),(0,i.useEffect)(function(){eM&&(ew(!0),j.Am.success("授权".concat(null==Z?void 0:Z.parentTokenSymbol,"成功")))},[eM]);var eD=(0,g._)((0,i.useState)(!1),2),eF=eD[0],eL=eD[1],eW=(0,g._)((0,i.useState)(!1),2),eH=eW[0],eq=eW[1],eJ=ep.watch("parentToken"),eO=ep.watch("stakeToken"),eY=(0,l.vz)(eJ),e$=(0,l.vz)(eO);(0,i.useEffect)(function(){if(ea&&eF&&null!==eY&&eY>BigInt(0)){var e=eY*BigInt(K.pairReserveToken)/BigInt(K.pairReserveParentToken),n=Number((0,l.bM)(e)).toFixed(12).replace(/\.?0+$/,"");ep.setValue("stakeToken",n,{shouldValidate:!0}),eL(!1),eq(!1)}},[ea,eF,eY,K,ep]),(0,i.useEffect)(function(){if(ea&&eH&&null!==e$&&e$>BigInt(0)){var e=e$*BigInt(K.pairReserveParentToken)/BigInt(K.pairReserveToken),n=Number((0,l.bM)(e)).toFixed(12).replace(/\.?0+$/,"");ep.setValue("parentToken",n,{shouldValidate:!0}),eL(!1),eq(!1)}},[ea,eH,e$,K,ep]),(0,i.useEffect)(function(){eY>BigInt(0)&&U&&U>=eY?ew(!0):ew(!1)},[eY,U]),(0,i.useEffect)(function(){e$>BigInt(0)&&Q&&Q>=e$?eN(!0):eN(!1)},[e$,Q]);var eG=(0,$.X)(),eX=eG.stakeLiquidity,eK=eG.isPending,eQ=eG.isConfirming,eU=eG.isConfirmed,e0=eG.writeError;function e1(){return(e1=(0,x._)(function(e){var n,t,s,a,r;return(0,b.Jh)(this,function(i){switch(i.label){case 0:if(!(eb&&ek))return j.Am.error("请先完成授权"),[2];if(n=(0,l.vz)(e.stakeToken),t=(0,l.vz)(e.parentToken),null===n||null===t)return j.Am.error("转换金额时出错，请检查输入格式"),[2];s=BigInt(Math.round(10*nt)),a=n*(BigInt(1e3)-s)/BigInt(1e3),r=t*(BigInt(1e3)-s)/BigInt(1e3),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,eX(null==Z?void 0:Z.address,n,t,a,r,BigInt(e.releasePeriod),p)];case 2:return i.sent(),[3,4];case 3:return e2(i.sent(),"stake"),[3,4];case 4:return[2]}})})).apply(this,arguments)}(0,i.useEffect)(function(){eU&&((null==Z?void 0:Z.initialStakeRound)&&Z.initialStakeRound>0?m():el(!0))},[eU]),(0,i.useEffect)(function(){ei&&!ec&&(ed||H(),m())},[ei,ec]),(0,i.useEffect)(function(){Z&&0==Z.initialStakeRound&&ed&&ed>0&&W((0,v._)((0,y._)({},Z),{initialStakeRound:Number(ed)}))},[Z,ed]);var e2=(0,o.S)().handleContractError;(0,i.useEffect)(function(){en&&e2(en,"token"),eB&&e2(eB,"stake"),eP&&e2(eP,"stake"),e0&&e2(e0,"stake"),eu&&e2(eu,"stake"),ev&&e2(ev,"stake")},[en,eB,eP,e0,eu,ev]);var e3=eI||eS,e4=eC||ez,e5=e3||e4||eb&&ek;(0,i.useEffect)(function(){!Z||"true"!==J||ec||ed||q({name:"提示：",message:"新部署的代币，需先质押获取治理票，才能后续操作"})},[Z,J,ec,ed]),(0,i.useEffect)(function(){ee||et||e5||!Z||!Z.symbol||q({name:"余额不足",message:"您当前".concat(Z.symbol,"数量为0，请先获取").concat(Z.symbol)}),ee||es||e5||!Z||!Z.parentTokenSymbol||q({name:"余额不足",message:"您当前".concat(Z.parentTokenSymbol,"数量为0，请先获取").concat(Z.parentTokenSymbol)})},[et,es,Z,ee]);var e8=(0,i.useRef)(null),e6=(0,i.useRef)(eI);(0,i.useEffect)(function(){if(e6.current&&!eI){var e;null===(e=e8.current)||void 0===e||e.blur()}e6.current=eI},[eI]);var e7=(0,g._)((0,i.useState)(!1),2),e9=e7[0],ne=e7[1],nn=(0,g._)((0,i.useState)(2.5),2),nt=nn[0],ns=nn[1],na=(0,g._)((0,i.useState)(!1),2),nr=na[0],ni=na[1],nl=(0,g._)((0,i.useState)(""),2),no=nl[0],nd=nl[1];return!Z||ey||ec?(0,s.jsx)(f.Z,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-white px-4",children:[(0,s.jsxs)("div",{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-full mx-auto space-y-4",children:[(0,s.jsx)("div",{className:"w-full flex justify-between items-center",children:(0,s.jsx)(G.Z,{title:"质押获取治理票："})}),(0,s.jsx)(z.l0,(0,v._)((0,y._)({},ep),{children:(0,s.jsxs)("form",{onSubmit:ep.handleSubmit(function(e){return e1.apply(this,arguments)}),className:"space-y-3",children:[(0,s.jsx)(R.Zb,{children:(0,s.jsx)(R.aY,{className:"p-3 md:p-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"第1步: 填写质押数量"}),(0,s.jsx)(E(),{href:"/dex/swap",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:"获取代币"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsx)(z.Wi,{control:ep.control,name:"parentToken",render:function(e){var n=e.field;return(0,s.jsxs)(z.xJ,{children:[(0,s.jsx)(R.Zb,{className:"bg-[#f7f8f9] border-none",children:(0,s.jsxs)(R.aY,{className:"py-4 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)(P.I,(0,v._)((0,y._)({type:"number",placeholder:"0"},n),{disabled:e5,onChange:function(e){n.onChange(e),eL(!0)},className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("div",{className:"bg-white hover:bg-gray-50 px-3 py-1.5 rounded-full transition-colors ",children:(0,s.jsx)("span",{className:"font-medium text-gray-800",children:null==Z?void 0:Z.parentTokenSymbol})})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[[25,50,75].map(function(e){return(0,s.jsxs)(S.z,{variant:"outline",size:"sm",type:"button",onClick:function(){var n=es*BigInt(e)/BigInt(100);ep.setValue("parentToken",(0,l.bM)(n),{shouldValidate:!0}),eL(!0)},disabled:e5||es<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)}),(0,s.jsx)(S.z,{variant:"outline",size:"sm",type:"button",onClick:function(){ep.setValue("parentToken",(0,l.bM)(es||BigInt(0)),{shouldValidate:!0}),eL(!0)},disabled:es<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,l.LH)(es)," ",null==Z?void 0:Z.parentTokenSymbol]})]})]})}),(0,s.jsx)(z.zG,{})]})}}),(0,s.jsx)(z.Wi,{control:ep.control,name:"stakeToken",render:function(e){var n=e.field;return(0,s.jsxs)(z.xJ,{children:[(0,s.jsx)(R.Zb,{className:"bg-[#f7f8f9] border-none",children:(0,s.jsxs)(R.aY,{className:"py-4 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)(P.I,(0,v._)((0,y._)({type:"number",placeholder:"0"},n),{disabled:et<=BigInt(0),onChange:function(e){n.onChange(e),eq(!0)},className:"text-xl border-none p-0 h-auto bg-transparent focus:ring-0 focus:outline-none mr-2"})),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("div",{className:"bg-white hover:bg-gray-50 px-3 py-1.5 rounded-full transition-colors",children:(0,s.jsx)("span",{className:"font-medium text-gray-800",children:null==Z?void 0:Z.symbol})})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[[25,50,75].map(function(e){return(0,s.jsxs)(S.z,{variant:"outline",size:"sm",type:"button",onClick:function(){var n=et*BigInt(e)/BigInt(100);ep.setValue("stakeToken",(0,l.bM)(n),{shouldValidate:!0}),eq(!0)},disabled:et<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:[e,"%"]},e)}),(0,s.jsx)(S.z,{variant:"outline",size:"sm",type:"button",onClick:function(){ep.setValue("stakeToken",(0,l.bM)(et||BigInt(0)),{shouldValidate:!0}),eq(!0)},disabled:et<=BigInt(0),className:"text-xs h-7 px-2 rounded-lg",children:"最高"})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,l.LH)(et)," ",null==Z?void 0:Z.symbol]})]})]})}),(0,s.jsx)(z.zG,{})]})}})]}),ea&&(0,s.jsxs)("div",{className:"space-y-1 text-sm mt-2",children:[(0,s.jsxs)("div",{className:"text-gray-600 flex items-center gap-1",children:[(0,s.jsx)(T.Z,{className:"w-4 h-4"}),"质押比例按当前价格计算："]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"text-gray-600",children:e9?(0,s.jsxs)(s.Fragment,{children:["1 ",null==Z?void 0:Z.symbol," ="," ",(0,l.LH)(BigInt(K.pairReserveParentToken)*BigInt(1e18)/BigInt(K.pairReserveToken))," ",null==Z?void 0:Z.parentTokenSymbol]}):(0,s.jsxs)(s.Fragment,{children:["1 ",null==Z?void 0:Z.parentTokenSymbol," ="," ",(0,l.LH)(BigInt(K.pairReserveToken)*BigInt(1e18)/BigInt(K.pairReserveParentToken))," ",null==Z?void 0:Z.symbol]})}),(0,s.jsx)(S.z,{type:"button",variant:"ghost",size:"sm",onClick:function(){return ne(!e9)},className:"h-6 w-6 p-0 hover:bg-gray-100 transition-colors",title:"切换比例显示",children:(0,s.jsx)(C,{className:"h-3 w-3 text-gray-500"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm mt-2",children:[(0,s.jsxs)("div",{className:"text-gray-600 flex items-center gap-1 mr-2",children:[(0,s.jsx)(A,{className:"w-4 h-4"}),"滑点上限：",nt,"%"]}),(0,s.jsxs)(V.Vq,{open:nr,onOpenChange:ni,children:[(0,s.jsx)(V.hg,{asChild:!0,children:(0,s.jsxs)(S.z,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-gray-100 transition-colors",title:"设置滑点",children:[(0,s.jsx)(B,{className:"h-3 w-3"}),"设置"]})}),(0,s.jsxs)(V.cZ,{className:"sm:max-w-md",children:[(0,s.jsx)(V.fK,{children:(0,s.jsx)(V.$N,{children:"滑点设置"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"选择滑点"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[.5,1,2.5].map(function(e){return(0,s.jsxs)(S.z,{type:"button",variant:nt===e?"default":"outline",size:"sm",onClick:function(){ns(e),nd(""),ni(!1)},className:"text-xs",children:[e,"%"]},e)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"自定义滑点"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(P.I,{type:"number",placeholder:"输入滑点百分比",value:no,onChange:function(e){return nd(e.target.value)},className:"flex-1",min:"0",max:"50",step:"0.1"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),no&&(0,s.jsx)(S.z,{type:"button",size:"sm",onClick:function(){var e=parseFloat(no);e>=0&&e<=50?(ns(e),ni(!1)):j.Am.error("滑点应在 0-50% 之间")},className:"w-full",children:"应用自定义滑点"})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,s.jsx)("p",{children:"• 滑点是指实际执行价格与预期价格之间的差异"}),(0,s.jsx)("p",{children:"• 较低的滑点可能导致交易失败，较高的滑点可能导致不利的价格"}),(0,s.jsx)("p",{children:"• 建议设置在 0.5% - 5% 之间"})]})]})]})]})]})]})})}),(0,s.jsx)(R.Zb,{children:(0,s.jsx)(R.aY,{className:"p-3 md:p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"第2步: 选择解锁期"})}),(0,s.jsx)(z.Wi,{control:ep.control,name:"releasePeriod",render:function(e){var n=e.field;return(0,s.jsxs)(z.xJ,{children:[(0,s.jsx)(z.NI,{children:(0,s.jsxs)(M.Ph,{onValueChange:function(e){return n.onChange(e)},value:n.value,children:[(0,s.jsx)(M.i4,{className:"w-full !ring-secondary-foreground",children:(0,s.jsx)(M.ki,{placeholder:"选择解锁期"})}),(0,s.jsx)(M.Bw,{children:Array.from({length:ef-em+1},function(e,n){return n+em}).filter(function(e){return e>=eh}).map(function(e){return(0,s.jsx)(M.Ql,{value:String(e),children:(0,D.Cn)(e)},e)})})]})}),(0,s.jsx)(z.pf,{children:'"解锁期" 是指，取消质押后多久才能取回代币 (注意：是从取消质押的阶段结束时开始计算)'}),(0,s.jsx)(z.zG,{})]})}})]})})}),(0,s.jsx)(R.Zb,{children:(0,s.jsx)(R.aY,{className:"p-3 md:p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"第3步: 授权并存入"})}),(0,s.jsxs)("div",{className:"flex justify-center lg:justify-start space-x-2",children:[(0,s.jsx)(S.z,{type:"button",className:"flex-1 lg:w-auto lg:px-4",ref:e8,disabled:eI||eC||eb,onClick:ep.handleSubmit(function(e){return eR.apply(this,arguments)}),children:eI?"1.提交中...":eC?"1.确认中...":eb?"1.".concat(null==Z?void 0:Z.symbol,"已授权"):"1.授权".concat(null==Z?void 0:Z.symbol)}),(0,s.jsx)(S.z,{type:"button",className:"flex-1 lg:w-auto lg:px-4",disabled:!eb||eS||ez||ek,onClick:ep.handleSubmit(function(e){return eV.apply(this,arguments)}),children:eS?"2.提交中...":ez?"2.确认中...":ek?"2.".concat(null==Z?void 0:Z.parentTokenSymbol,"已授权"):"2.授权".concat(null==Z?void 0:Z.parentTokenSymbol)}),(0,s.jsx)(S.z,{type:"submit",className:"flex-1 lg:w-auto lg:px-4",disabled:!eb||!ek||eK||eQ||eU,children:eK?"3.提交中...":eQ?"3.确认中...":eU?"3.已提交":"3.提交"})]})]})})})]})}))]}),(0,s.jsx)(X.Z,{isLoading:e3||e4||eK||eQ||ec&&ei,text:e3||eK?"提交交易...":"确认交易..."})]})})},Q=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{title:"质押LP"}),(0,s.jsxs)("main",{className:"flex-grow",children:[(0,s.jsx)(p,{}),(0,s.jsx)(K,{}),(0,s.jsx)("div",{className:"flex flex-col w-full p-4",children:(0,s.jsxs)("div",{className:"bg-blue-50/30 border-l-4 border-l-blue-50 rounded-r-lg p-4 mb-8 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-base font-bold text-blue-800 pb-2",children:[(0,s.jsx)(T.Z,{className:"w-4 h-4"}),"提示"]}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"SL代币："}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"代币对儿由质押合约注入 Uniswap V2 流动性池，并铸造SL代币作为流动性质押凭证"}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理票："}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"所得治理票数 = SL代币数量 * 解锁期阶段数"}),(0,s.jsx)("div",{className:"text-base font-bold text-blue-700 pt-2 pb-1",children:"治理激励："}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"1、当轮所得治理激励 = 验证激励 + 加速激励"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"2、单个地址的验证激励：当轮治理总激励 * 50% * 该地址行使验证权的治理票数 / 行使验权的治理票总数"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 pb-1",children:"3、单个地址的加速激励：当轮治理总激励 * 50% * 该地址质押代币数量 / 质押代币总数量"}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:"4、溢出：单个地址的加速激励 超过验证激励 2 倍以上的部分，为溢出激励，自动销毁，归入未来总激励"})]})})]})]})}},24601:function(e,n,t){"use strict";t.d(n,{N:function(){return u}});var s=t(72253),a=t(14932),r=t(97995),i=t(36100),l=t(67294),o=t(86109),d=t(47070),c=t(80155);function u(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.contracts,u=void 0===t?[]:t,m=n.query,f=void 0===m?{}:m,p=(0,c.Z)(n),x=(0,d.x)({config:p}),h=function(e,n={}){return{async queryFn({queryKey:t}){let s=[],a=t[1].contracts.length;for(let e=0;e<a;e++){let a=t[1].contracts[e],r=(n.contracts?.[e]).abi;s.push({...a,abi:r})}let{scopeKey:i,...l}=t[1];return(0,r.J)(e,{...l,contracts:s})},queryKey:function(e={}){let n=[];for(let t of e.contracts??[]){let{abi:s,...a}=t;n.push({...a,chainId:a.chainId??e.chainId})}return["readContracts",(0,i.OP)({...e,contracts:n})]}(n)}}(p,(0,a._)((0,s._)({},n),{chainId:x})),y=(0,l.useMemo)(function(){var e,n=!1,t=!0,s=!1,a=void 0;try{for(var r,i=u[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var l=r.value,o=l.abi,d=l.address,c=l.functionName;if(!o||!d||!c){n=!1;break}n=!0}}catch(e){s=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(s)throw a}}return!!(n&&(null===(e=f.enabled)||void 0===e||e))},[u,f.enabled]);return(0,o.aM)((0,a._)((0,s._)({},h,f),{enabled:y,structuralSharing:null!==(e=f.structuralSharing)&&void 0!==e?e:i.if}))}}},function(e){e.O(0,[7395,6457,1617,8545,3217,8700,1985,8430,449,2888,9774,179],function(){return e(e.s=52340)}),_N_E=e.O()}]);