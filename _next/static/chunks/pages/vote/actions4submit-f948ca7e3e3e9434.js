try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1511b9f7-f8d3-4b58-b338-483aeb4c1379",e._sentryDebugIdIdentifier="sentry-dbid-1511b9f7-f8d3-4b58-b338-483aeb4c1379")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1533],{67980:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vote/actions4submit",function(){return t(76422)}])},34680:function(e,n,t){"use strict";t.d(n,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return o},aY:function(){return f},eW:function(){return m},ll:function(){return u}});var s=t(72253),r=t(47702),a=t(85893),i=t(67294),c=t(40108),o=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},i))});o.displayName="Card";var l=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",t)},i))});l.displayName="CardHeader";var u=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",t)},i))});u.displayName="CardTitle";var d=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,c.cn)("text-sm text-muted-foreground",t)},i))});d.displayName="CardDescription";var f=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,c.cn)("p-6 pt-0",t)},i))});f.displayName="CardContent";var m=i.forwardRef(function(e,n){var t=e.className,i=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:n,className:(0,c.cn)("flex items-center p-6 pt-0",t)},i))});m.displayName="CardFooter"},24920:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var s=(0,t(31134).Z)("UserPen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]])},27460:function(e,n,t){"use strict";var s=t(91309),r=t(85893),a=t(67294),i=t(74855),c=t(78865),o=t(18289),l=t(86501),u=t(91529);n.Z=function(e){var n=e.address,t=e.word,d=e.showCopyButton,f=e.showAddress,m=void 0===f||f,x=e.colorClassName,h=void 0===x?"":x,b=e.colorClassName2,g=void 0===b?"":b,p=(0,s._)((0,a.useState)(!1),2),N=p[0],y=p[1];return(0,r.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[t&&(0,r.jsx)("span",{className:"text-xs",children:t}),m&&!g&&(0,r.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:(0,u.Vu)(n)}),m&&g&&(0,r.jsxs)("span",{className:"text-[0px]",children:[(0,r.jsx)("span",{className:"font-mono text-xs ".concat(null!=h?h:"text-greyscale-500"),children:"".concat(n.substring(0,6),"...")}),(0,r.jsx)("span",{className:"font-mono text-xs ".concat(g),children:"".concat(n.substring(n.length-4))})]}),(void 0===d||d)&&(0,r.jsx)(i.CopyToClipboard,{text:n,onCopy:function(e,n){n?y(!0):l.ZP.error("复制失败")},children:(0,r.jsx)("button",{className:"flex items-center justify-center p-1 rounded focus:outline-none active:bg-gray-200 md:hover:bg-gray-200",onClick:function(e){e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",style:{WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",appearance:"none",background:"transparent",backgroundColor:"transparent",border:"none",outline:"none"},children:N?(0,r.jsx)(c.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")}):(0,r.jsx)(o.Z,{className:"h-4 w-4 ".concat(null!=h?h:"text-greyscale-500")})})})]})}},64777:function(e,n,t){"use strict";var s=t(85893);n.Z=function(e){var n=e.title;return(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-lg font-bold",children:n})})}},42083:function(e,n,t){"use strict";var s=t(85893),r=t(23432);n.Z=function(){return(0,s.jsx)(r.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},93566:function(e,n,t){"use strict";t.d(n,{$A:function(){return x},Bk:function(){return m},Xo:function(){return g},dI:function(){return f},qd:function(){return b},sK:function(){return h}});var s=t(11010),r=t(97582),a=t(67294),i=t(71104),c=t(7724),o=t(37742),l=t(84689),u=t(435),d="0xeBB295af1D4ee9ed92e55EFF4ca5Eb8D4AB81aCE",f=function(e,n){var t=(0,i.u)({address:d,abi:c.d,functionName:"actionInfo",args:[e,n||BigInt(0)],query:{enabled:!!e&&void 0!==n}});return{actionInfo:t.data,isPending:t.isPending,error:t.error}},m=function(){var e=(0,i.u)({address:d,abi:c.d,functionName:"currentRound",args:[]}),n=e.data,t=e.isPending,s=e.error;return{currentRound:(0,o.Zu)(n),isPending:t,error:s}},x=function(e,n,t){var s=(0,i.u)({address:d,abi:c.d,functionName:"isSubmitted",args:[e,n,t]});return{isSubmitted:s.data,isPending:s.isPending,error:s.error}},h=function(e,n,t){var s=(0,i.u)({address:d,abi:c.d,functionName:"submitInfo",args:[e,n,t],query:{enabled:!!e&&!!n}});return{submitInfo:s.data,isPending:s.isPending,error:s.error}};function b(){var e,n=(0,u.e9)(c.d,d,"submit"),t=n.execute,i=n.isPending,o=n.isConfirming,f=n.isConfirmed,m=n.error,x=n.hash,h=n.isTukeMode,b=(e=(0,s._)(function(e,n){return(0,r.Jh)(this,function(s){switch(s.label){case 0:return[4,t([e,n])];case 1:return[2,s.sent()]}})}),function(n,t){return e.apply(this,arguments)});return(0,a.useEffect)(function(){m&&((0,l.Vh)(m),(0,l.H)(m))},[x,m,f]),{submit:b,isPending:i,isConfirming:o,writeError:m,isConfirmed:f,hash:x,isTukeMode:h}}function g(){var e,n=(0,u.e9)(c.d,d,"submitNewAction"),t=n.execute,i=n.isPending,o=n.isConfirming,f=n.isConfirmed,m=n.error,x=n.hash,h=n.isTukeMode,b=(e=(0,s._)(function(e,n){return(0,r.Jh)(this,function(s){switch(s.label){case 0:return[4,t([e,n])];case 1:return[2,s.sent()]}})}),function(n,t){return e.apply(this,arguments)});return(0,a.useEffect)(function(){m&&((0,l.Vh)(m),(0,l.H)(m))},[x,m,f]),{submitNewAction:b,isPending:i,isConfirming:o,writeError:m,isConfirmed:f,hash:x,isTukeMode:h}}},76422:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var s=t(85893),r=t(67294),a=t(11163),i=t(93778),c=t(93566),o=t(73591),l=t(83494),u=t(27245),d=t(34680),f=t(41664),m=t.n(f),x=t(93950),h=t(42083),b=t(64777),g=t(27460),p=t(24920),N=function(e){var n,t=e.currentRound,a=((0,r.useContext)(i.M)||{}).token,c=(0,x.s4)((null==a?void 0:a.address)||"",BigInt(0),BigInt(100)),l=c.actionInfos,f=c.isPending,N=c.error,y=(0,x.WZ)((null==a?void 0:a.address)||"",t),v=y.actionSubmits,j=y.isPending,w=y.error,C=(0,o.S)().handleContractError;return((0,r.useEffect)(function(){N&&C(N,"submit"),w&&C(w,"submit")},[N,w]),a)?(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)(b.Z,{title:"未推举的行动"}),(0,s.jsx)(u.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",asChild:!0,children:(0,s.jsx)(m(),{href:"/action/new?symbol=".concat(a.symbol),children:"发起新行动"})})]}),f||j?(0,s.jsx)(h.Z,{}):(0,s.jsxs)("div",{className:"space-y-4",children:[(null==l?void 0:l.length)===0&&(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"暂无行动"}),l&&(null==l?void 0:l.length)>0&&(null==l?void 0:null===(n=l.filter(function(e){return!(null==v?void 0:v.some(function(n){return n.actionId===e.head.id}))}))||void 0===n?void 0:n.map(function(e,n){return(0,s.jsx)(d.Zb,{className:"shadow-none",children:(0,s.jsxs)(m(),{href:"/action/detail?id=".concat(e.head.id,"&symbol=").concat(a.symbol,"&type=submit&submitted=false"),children:[(0,s.jsxs)(d.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-start items-baseline",children:[(0,s.jsx)("span",{className:"text-greyscale-400 text-sm",children:"No."}),(0,s.jsx)("span",{className:"text-secondary text-xl font-bold mr-2",children:String(e.head.id)}),(0,s.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.body.title)})]}),(0,s.jsx)(d.aY,{className:"px-3 pt-1 pb-2",children:(0,s.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(p.Z,{className:"text-greyscale-400 mr-1 h-3 w-3 -translate-y-0.5"}),(0,s.jsx)("span",{className:"text-greyscale-400",children:(0,s.jsx)(g.Z,{address:e.head.author,showCopyButton:!1,colorClassName2:"text-secondary"})})]}),(0,s.jsx)("span",{className:"text-sm text-greyscale-600",children:"未推举"})]})})]},e.head.id)},e.head.id)}))]})]}):(0,s.jsx)(h.Z,{})},y=function(){var e=(0,c.Bk)(),n=e.currentRound,t=e.isPending,u=e.error,d=(0,o.S)().handleContractError;(0,r.useEffect)(function(){u&&d(u,"submit")},[u]);var f=(0,a.useRouter)(),m=((0,r.useContext)(i.M)||{}).token;return(0,r.useEffect)(function(){m&&!m.hasEnded?f.push("/launch?symbol=".concat(m.symbol)):m&&!m.initialStakeRound&&f.push("/gov/stakelp/?symbol=".concat(m.symbol,"&first=true"))},[m]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{title:"推举"}),(0,s.jsx)("main",{className:"flex-grow",children:t?(0,s.jsx)(h.Z,{}):(0,s.jsx)(N,{currentRound:n})})]})}},21803:function(e,n,t){"use strict";function s(e,n){let[t,s="0"]=e.split("."),r=t.startsWith("-");if(r&&(t=t.slice(1)),s=s.replace(/(0+)$/,""),0===n)1===Math.round(Number(`.${s}`))&&(t=`${BigInt(t)+1n}`),s="";else if(s.length>n){let[e,r,a]=[s.slice(0,n-1),s.slice(n-1,n),s.slice(n)],i=Math.round(Number(`${r}.${a}`));(s=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>n&&(s=s.slice(1),t=`${BigInt(t)+1n}`),s=s.slice(0,n)}else s=s.padEnd(n,"0");return BigInt(`${r?"-":""}${t}${s}`)}t.d(n,{v:function(){return s}})}},function(e){e.O(0,[8239,367,3494,2252,3950,7724,2888,9774,179],function(){return e(e.s=67980)}),_N_E=e.O()}]);