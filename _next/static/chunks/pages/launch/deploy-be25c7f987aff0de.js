try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5963f478-8728-4c27-93a7-a71094a469e7",e._sentryDebugIdIdentifier="sentry-dbid-5963f478-8728-4c27-93a7-a71094a469e7")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6138],{48764:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/launch/deploy",function(){return a(96233)}])},34680:function(e,n,a){"use strict";a.d(n,{Ol:function(){return l},SZ:function(){return u},Zb:function(){return c},aY:function(){return f},eW:function(){return m},ll:function(){return d}});var r=a(72253),s=a(47702),t=a(85893),i=a(67294),o=a(40108),c=i.forwardRef(function(e,n){var a=e.className,i=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a)},i))});c.displayName="Card";var l=i.forwardRef(function(e,n){var a=e.className,i=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a)},i))});l.displayName="CardHeader";var d=i.forwardRef(function(e,n){var a=e.className,i=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",a)},i))});d.displayName="CardTitle";var u=i.forwardRef(function(e,n){var a=e.className,i=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("text-sm text-muted-foreground",a)},i))});u.displayName="CardDescription";var f=i.forwardRef(function(e,n){var a=e.className,i=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("p-6 pt-0",a)},i))});f.displayName="CardContent";var m=i.forwardRef(function(e,n){var a=e.className,i=(0,s._)(e,["className"]);return(0,t.jsx)("div",(0,r._)({ref:n,className:(0,o.cn)("flex items-center p-6 pt-0",a)},i))});m.displayName="CardFooter"},35810:function(e,n,a){"use strict";a.d(n,{$N:function(){return g},Be:function(){return v},Vq:function(){return u},cN:function(){return h},cZ:function(){return N},fK:function(){return p},hg:function(){return f}});var r=a(72253),s=a(14932),t=a(47702),i=a(85893),o=a(67294),c=a(12854),l=a(62190),d=a(40108),u=c.fC,f=c.xz,m=c.h_;c.x8;var x=o.forwardRef(function(e,n){var a=e.className,s=(0,t._)(e,["className"]);return(0,i.jsx)(c.aV,(0,r._)({ref:n,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},s))});x.displayName=c.aV.displayName;var N=o.forwardRef(function(e,n){var a=e.className,o=e.children,u=(0,t._)(e,["className","children"]);return(0,i.jsxs)(m,{children:[(0,i.jsx)(x,{}),(0,i.jsxs)(c.VY,(0,s._)((0,r._)({ref:n,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},u),{children:[o,(0,i.jsxs)(c.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(l.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});N.displayName=c.VY.displayName;var p=function(e){var n=e.className,a=(0,t._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n)},a))};p.displayName="DialogHeader";var h=function(e){var n=e.className,a=(0,t._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},a))};h.displayName="DialogFooter";var g=o.forwardRef(function(e,n){var a=e.className,s=(0,t._)(e,["className"]);return(0,i.jsx)(c.Dx,(0,r._)({ref:n,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a)},s))});g.displayName=c.Dx.displayName;var v=o.forwardRef(function(e,n){var a=e.className,s=(0,t._)(e,["className"]);return(0,i.jsx)(c.dk,(0,r._)({ref:n,className:(0,d.cn)("text-sm text-muted-foreground",a)},s))});v.displayName=c.dk.displayName},76929:function(e,n,a){"use strict";a.d(n,{l0:function(){return p},NI:function(){return b},pf:function(){return w},Wi:function(){return g},xJ:function(){return y},lX:function(){return j},zG:function(){return I}});var r=a(34788),s=a(12796),t=a(72253),i=a(14932),o=a(47702),c=a(85893),l=a(67294),d=a(88426),u=a(87536),f=a(40108),m=a(49102),x=(0,a(12003).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),N=l.forwardRef(function(e,n){var a=e.className,r=(0,o._)(e,["className"]);return(0,c.jsx)(m.f,(0,t._)({ref:n,className:(0,f.cn)(x(),a)},r))});N.displayName=m.f.displayName;var p=u.RV,h=l.createContext({}),g=function(e){var n=(0,r._)({},(0,s._)(e));return(0,c.jsx)(h.Provider,{value:{name:n.name},children:(0,c.jsx)(u.Qr,(0,t._)({},n))})},v=function(){var e=l.useContext(h),n=l.useContext(_),a=(0,u.Gc)(),r=a.getFieldState,s=a.formState,i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");var o=n.id;return(0,t._)({id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message")},i)},_=l.createContext({}),y=l.forwardRef(function(e,n){var a=e.className,r=(0,o._)(e,["className"]),s=l.useId();return(0,c.jsx)(_.Provider,{value:{id:s},children:(0,c.jsx)("div",(0,t._)({ref:n,className:(0,f.cn)("space-y-2",a)},r))})});y.displayName="FormItem";var j=l.forwardRef(function(e,n){var a=e.className,r=(0,o._)(e,["className"]),s=v(),i=s.error,l=s.formItemId;return(0,c.jsx)(N,(0,t._)({ref:n,className:(0,f.cn)(i&&"text-destructive",a),htmlFor:l},r))});j.displayName="FormLabel";var b=l.forwardRef(function(e,n){var a=(0,r._)({},(0,s._)(e)),i=v(),o=i.error,l=i.formItemId,u=i.formDescriptionId,f=i.formMessageId;return(0,c.jsx)(d.g7,(0,t._)({ref:n,id:l,"aria-describedby":o?"".concat(u," ").concat(f):"".concat(u),"aria-invalid":!!o},a))});b.displayName="FormControl";var w=l.forwardRef(function(e,n){var a=e.className,r=(0,o._)(e,["className"]),s=v().formDescriptionId;return(0,c.jsx)("p",(0,t._)({ref:n,id:s,className:(0,f.cn)("text-sm text-muted-foreground",a)},r))});w.displayName="FormDescription";var I=l.forwardRef(function(e,n){var a=e.className,r=e.children,s=(0,o._)(e,["className","children"]),l=v(),d=l.error,u=l.formMessageId,m=d?String(null==d?void 0:d.message):r;return m?(0,c.jsx)("p",(0,i._)((0,t._)({ref:n,id:u,className:(0,f.cn)("text-sm font-medium text-destructive",a)},s),{children:m})):null});I.displayName="FormMessage"},96233:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return E}});var r=a(85893),s=a(83494),t=a(11010),i=a(72253),o=a(14932),c=a(91309),l=a(97582),d=a(63448),u=a(56312),f=a(87536),m=a(42130),x=a(39360),N=a(11163),p=a(67294),h=a(21774),g=a(27245),v=a(35810),_=a(34680),y=a(76929),j=a(91529),b=a(37742),w=a(70019),I=a(7399),C=a(73591),R=a(93778),Z=a(42083),k=a(44576),F=d.Ry({symbol:d.Z_().nonempty("请输入代币符号").length(6,"代币符号必须是 6 个字符").regex(/^[A-Z0-9]+$/,"只能使用大写字母 A~Z 和数字 0~9").regex(/^[A-Z]/,"必须以大写字母 A~Z 开头")});function $(){var e=(0,N.useRouter)(),n=((0,p.useContext)(R.M)||{}).token,a=(0,m.m)().address;(0,x.x)();var s=(0,c._)((0,p.useState)(""),2),d=s[0],$=s[1],E=(0,w.jx)(),D=E.launchToken,S=E.isPending,z=E.writeError,B=E.isConfirming,M=E.isConfirmed,A=(0,w.bK)(n?n.address:"0x0000000000000000000000000000000000000000",a),P=A.remainingLaunchCount,V=A.isPending,T=(0,I.UC)(n?n.address:"0x0000000000000000000000000000000000000000",a),O=T.numOfMintGovRewardByAccount,G=T.isPending,W=Number("180")||BigInt(180),L=Number(W)-Number(null!=O?O:0)%Number(W),X=(0,C.S)().handleContractError;(0,p.useEffect)(function(){z&&X(z,"launch")},[z,X]);var Y=(0,f.cI)({resolver:(0,u.F)(F),defaultValues:{symbol:""}});function H(){return(H=(0,t._)(function(e){return(0,l.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,en()];case 1:if(!a.sent())return[2];return $(e.symbol),[4,D(e.symbol,null==n?void 0:n.address)];case 2:case 3:return a.sent(),[3,4];case 4:return[2]}})})).apply(this,arguments)}(0,p.useEffect)(function(){M&&e.push("/launch/?symbol=".concat("").concat(d))},[M,e,d]);var J=(0,c._)((0,p.useState)(!1),2),K=J[0],q=J[1],Q=(0,c._)((0,p.useState)(null),2),U=Q[0],ee=Q[1],en=function(){return new Promise(function(e,n){ee({resolve:e,reject:n}),q(!0)})};if(!n||V||G)return(0,r.jsx)(Z.Z,{});var ea=S||B;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_.Zb,{className:"w-full border-none shadow-none rounded-none",children:[(0,r.jsxs)(_.Ol,{children:[(0,r.jsx)(_.ll,{className:"text-2xl font-bold text-center",children:"开启子币公平发射"}),(0,r.jsxs)(_.SZ,{className:"text-center",children:["创建 ",(0,r.jsx)("span",{className:"text-secondary",children:n.symbol})," 的子币"]})]}),(0,r.jsx)(y.l0,(0,o._)((0,i._)({},Y),{children:(0,r.jsxs)("form",{onSubmit:Y.handleSubmit(function(e){return H.apply(this,arguments)}),children:[(0,r.jsx)(_.aY,{className:"space-y-4",children:(0,r.jsx)(y.Wi,{control:Y.control,name:"symbol",render:function(e){var n=e.field;return(0,r.jsxs)(y.xJ,{children:[(0,r.jsx)(y.lX,{children:"子币符号："}),(0,r.jsx)(y.NI,{children:(0,r.jsx)(h.I,(0,i._)({id:"symbol",placeholder:"例如: TENNIS, GAME20",disabled:ea||M,className:"!ring-secondary-foreground"},n))}),(0,r.jsx)(y.pf,{children:"最多 6 个字符，首字母只能用大写字母A~Z，后5个字符只能用大写字母A~Z和数字0~9。"}),(0,r.jsx)(y.zG,{})]})}})}),(0,r.jsx)(_.eW,{className:"flex justify-center",children:(0,r.jsx)(g.z,{className:"w-1/2",type:"submit",disabled:ea||M,children:S?"提交中...":B?"确认中...":M?"提交成功":"提交"})})]})})),(0,r.jsx)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-0 m-6",children:(0,r.jsxs)("p",{children:["公平发射募集目标：",(0,j.LH)((0,b.Zu)("20000000000000000000000000")),"个"," ",null==n?void 0:n.symbol]})})]}),(0,r.jsx)(k.Z,{isLoading:ea,text:S?"提交交易...":"确认交易..."}),(0,r.jsx)(v.Vq,{open:K,onOpenChange:function(e){e||(null==U||U.resolve(!1),ee(null)),q(e)},children:(0,r.jsxs)(v.cZ,{children:[(0,r.jsxs)(v.fK,{children:[(0,r.jsx)(v.$N,{children:"确认开启子币发射"}),(0,r.jsxs)(v.Be,{children:["剩余可发射次数：",Number(P)," 次",(0,r.jsx)("br",{}),"再完成 ",L," 次治理激励铸币，可增加1次"]})]}),(0,r.jsxs)(v.cN,{children:[(0,r.jsx)(g.z,{variant:"outline",onClick:function(){q(!1),null==U||U.resolve(!1),ee(null)},children:"取消"}),(0,r.jsx)(g.z,{onClick:function(){q(!1),null==U||U.resolve(!0),ee(null)},children:"确认"})]})]})})]})}function E(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{title:"开启子币"}),(0,r.jsx)("main",{className:"flex-grow",children:(0,r.jsx)($,{})})]})}},21803:function(e,n,a){"use strict";function r(e,n){let[a,r="0"]=e.split("."),s=a.startsWith("-");if(s&&(a=a.slice(1)),r=r.replace(/(0+)$/,""),0===n)1===Math.round(Number(`.${r}`))&&(a=`${BigInt(a)+1n}`),r="";else if(r.length>n){let[e,s,t]=[r.slice(0,n-1),r.slice(n-1,n),r.slice(n)],i=Math.round(Number(`${s}.${t}`));(r=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>n&&(r=r.slice(1),a=`${BigInt(a)+1n}`),r=r.slice(0,n)}else r=r.padEnd(n,"0");return BigInt(`${s?"-":""}${a}${r}`)}a.d(n,{v:function(){return r}})}},function(e){e.O(0,[8239,367,1617,3494,2252,6202,7399,2888,9774,179],function(){return e(e.s=48764)}),_N_E=e.O()}]);