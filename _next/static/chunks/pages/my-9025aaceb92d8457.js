try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="0c8bcee0-97bd-4b20-9a17-248c864dc342",e._sentryDebugIdIdentifier="sentry-dbid-0c8bcee0-97bd-4b20-9a17-248c864dc342")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9236],{89245:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return t(76064)}])},34680:function(e,s,t){"use strict";t.d(s,{Ol:function(){return d},SZ:function(){return x},Zb:function(){return i},aY:function(){return m},eW:function(){return u},ll:function(){return o}});var a=t(72253),n=t(47702),r=t(85893),c=t(67294),l=t(40108),i=c.forwardRef(function(e,s){var t=e.className,c=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,a._)({ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},c))});i.displayName="Card";var d=c.forwardRef(function(e,s){var t=e.className,c=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,a._)({ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t)},c))});d.displayName="CardHeader";var o=c.forwardRef(function(e,s){var t=e.className,c=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,a._)({ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t)},c))});o.displayName="CardTitle";var x=c.forwardRef(function(e,s){var t=e.className,c=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,a._)({ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t)},c))});x.displayName="CardDescription";var m=c.forwardRef(function(e,s){var t=e.className,c=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,a._)({ref:s,className:(0,l.cn)("p-6 pt-0",t)},c))});m.displayName="CardContent";var u=c.forwardRef(function(e,s){var t=e.className,c=(0,n._)(e,["className"]);return(0,r.jsx)("div",(0,a._)({ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t)},c))});u.displayName="CardFooter"},24920:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var a=(0,t(31134).Z)("UserPen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]])},21338:function(e,s,t){"use strict";var a=t(91309),n=t(85893),r=t(67294),c=t(88504),l=t(93778),i=t(74089),d=t(42083);s.Z=function(e){var s=e.currentRound,t=e.roundType,o=e.showCountdown,x=(0,c.O)().data,m=(0,r.useContext)(l.M),u=m?m.token:void 0,f=!x||!u||void 0===u.voteOriginBlocks,h=(0,a._)((0,r.useState)(BigInt(0)),2),j=h[0],N=h[1],y=Number("30126")||0,v=Number("2868")||0,p=u?Number(u.voteOriginBlocks):0,b=y-(Number(x)-p)%y,g=b>0?Math.ceil(b*v/1e3):0,w=(0,a._)((0,r.useState)(g),2),k=w[0],_=w[1];(0,r.useEffect)(function(){if(x){var e=y-(Number(x)-p)%y;_(e>0?Math.ceil(e*v/1e3):0)}},[x,y,v,p]),(0,r.useEffect)(function(){s>BigInt(0)&&N(s)},[s]);var Z=null!=j?j.toString():"0";return j<=BigInt(0)?(0,n.jsx)(n.Fragment,{}):f||null==j||j<BigInt(0)?(null==j||BigInt(0),(0,n.jsx)(d.Z,{})):(0,n.jsx)("div",{className:"flex items-center mb-3",children:(0,n.jsxs)("span",{className:"text-sm text-greyscale-400",children:["( 第",(0,n.jsx)("span",{className:"text-greyscale-400",children:Z}),"轮","vote"===t?"投票":"verify"===t?"验证":"行动","阶段，",(0,n.jsx)("span",{className:"text-greyscale-400",children:"剩余"}),(0,n.jsx)("span",{className:"text-greyscale-400",children:Math.ceil(1e3*k/v)}),(0,n.jsx)("span",{className:"text-greyscale-400 mr-1",children:"块, 约"}),void 0===o||o?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Z,{initialTimeLeft:g,onTick:_})}):(0,n.jsx)("span",{className:"text-greyscale-400",children:k<60?"".concat(k,"秒"):k<=300?"".concat(Math.floor(k/60),"分钟").concat(k%60,"秒"):k<3600?"".concat(Math.floor(k/60),"分钟"):"".concat(Math.floor(k/3600),"小时").concat(Math.floor(k%3600/60),"分钟")}),(0,n.jsx)("span",{className:"text-greyscale-400",children:" )"})]})})}},76064:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return A}});var a=t(85893),n=t(67294),r=t(42130),c=t(41664),l=t.n(c),i=t(27245),d=t(93778),o=t(83494),x=t(64777),m=t(91529),u=t(85794),f=t(73591),h=t(42083),j=t(27460),N=t(34426),y=function(e){var s=e.token,t=(0,r.m)().address,c=(0,u.hS)(null==s?void 0:s.address,t),d=c.balance,o=c.isPending,y=c.error,v=(0,u.hS)(null==s?void 0:s.parentTokenAddress,t),p=v.balance,b=v.isPending,g=v.error,w=(0,f.S)().handleContractError;return((0,n.useEffect)(function(){y&&w(y,"token"),g&&w(g,"token")},[y,g]),s)?t?(0,a.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(x.Z,{title:"我的代币"}),(0,a.jsx)(i.z,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(l(),{href:"/dex/swap?symbol=".concat(s.symbol),children:"兑换代币"})})]}),(0,a.jsxs)("div",{className:"stats bg-gray-100 w-full grid grid-cols-2 divide-x-0",children:[(0,a.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,a.jsxs)("div",{className:"stat-title text-sm flex items-center font-mono",children:["持有 ",null==s?void 0:s.symbol,(0,a.jsx)(j.Z,{address:s.address,showAddress:!1}),(0,a.jsx)(N.Z,{tokenAddress:s.address,tokenSymbol:s.symbol,tokenDecimals:s.decimals})]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:o?(0,a.jsx)(h.Z,{}):(0,m.LH)(d||BigInt(0))}),(0,a.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light",children:"不包含治理质押和行动参与"})]}),(0,a.jsxs)("div",{className:"stat place-items-center pb-3",children:[(0,a.jsxs)("div",{className:"stat-title text-sm flex items-center font-mono",children:["持有 ",null==s?void 0:s.parentTokenSymbol,(0,a.jsx)(j.Z,{address:s.parentTokenAddress,showAddress:!1}),(0,a.jsx)(N.Z,{tokenAddress:s.parentTokenAddress,tokenSymbol:s.parentTokenSymbol,tokenDecimals:s.decimals})]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:b?(0,a.jsx)(h.Z,{}):(0,m.LH)(p||BigInt(0))}),(0,a.jsx)("div",{className:"stat-desc mt-0 text-xs text-greyscale-400 font-light"})]})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,a.jsx)(x.Z,{title:"我的代币"}),(0,a.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})]})}):(0,a.jsx)(h.Z,{})},v=t(40057),p=t(4586),b=t(34680),g=t(24920),w=t(4307),k=t(93950),_=t(20442),Z=t(21338),C=function(e){var s=e.token,t=(0,r.m)().address,n=(0,_.Bk)().currentRound,c=(0,k.dB)((null==s?void 0:s.address)||"",t),d=c.joinedActions,o=c.isPending,u=c.error,N=(0,f.S)().handleContractError;return(u&&N(u,"dataViewer"),o)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pt-4 px-4",children:[(0,a.jsx)(x.Z,{title:"我参与的行动"}),(0,a.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:(0,a.jsx)(h.Z,{})})]})}):(0,a.jsxs)("div",{className:"pt-4 px-4",children:[(0,a.jsx)(x.Z,{title:"我参与的行动"}),(0,a.jsx)(Z.Z,{currentRound:n,roundType:"act"}),(null==d?void 0:d.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-4 space-y-4",children:(0,p._)(d).sort(function(e,s){return Number(s.joinedAmountOfAccount)-Number(e.joinedAmountOfAccount)}).map(function(e,t){return(0,a.jsx)(b.Zb,{className:"shadow-none",children:(0,a.jsxs)(l(),{href:"/my/myaction?id=".concat(e.action.head.id,"&symbol=").concat(null==s?void 0:s.symbol),className:"relative block",children:[(0,a.jsxs)(b.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-between items-baseline",children:[(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsx)("span",{className:"text-greyscale-400 text-sm",children:"No."}),(0,a.jsx)("span",{className:"text-secondary text-xl font-bold mr-2",children:String(e.action.head.id)}),(0,a.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.action.body.title)})]}),e.votesNum>0?e.hasReward?(0,a.jsx)("span",{className:"text-secondary text-xs",children:"进行中"}):(0,a.jsx)("span",{className:"text-error text-xs",children:"无铸币激励"}):(0,a.jsx)("span",{className:"text-error text-xs",children:"未投票"})]}),(0,a.jsx)(b.aY,{className:"px-3 pt-1 pb-2",children:(0,a.jsxs)("div",{className:"flex justify-between mt-1 text-sm",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(g.Z,{className:"text-greyscale-400 mr-1 h-3 w-3 -translate-y-0.5"}),(0,a.jsx)("span",{className:"text-greyscale-400",children:(0,a.jsx)(j.Z,{address:e.action.head.author,showCopyButton:!1,colorClassName2:"text-secondary"})})]}),e.votesNum>0&&(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-greyscale-400 mr-1",children:"投票"}),(0,a.jsx)("span",{className:"text-secondary",children:(0,m.rl)(Number(e.votePercentPerTenThousand)/100)})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-greyscale-400 mr-1",children:"我参与代币"}),(0,a.jsx)("span",{className:"text-secondary",children:(0,m.LH)(e.joinedAmountOfAccount)})]})]})}),(0,a.jsx)(w.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-greyscale-400 pointer-events-none"})]},e.action.head.id)},e.action.head.id)})}),(0,a.jsx)("div",{className:"flex justify-center space-x-4 mt-4",children:(0,a.jsx)(i.z,{variant:"outline",className:"w-1/2 text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(l(),{href:"/my/actionrewards?symbol=".concat(null==s?void 0:s.symbol),children:"铸造 行动激励 >>"})})})]}):(0,a.jsx)("div",{className:"text-sm text-greyscale-500 text-center my-6",children:"没有参与行动，请先参与"})]})},T=t(66247),A=function(){var e=((0,n.useContext)(d.M)||{}).token,s=(0,r.m)().isConnected;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{title:"我的"}),(0,a.jsx)("main",{className:"flex-grow",children:s?e?e&&!e.hasEnded?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-4 mt-4",children:[(0,a.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"公平发射未结束，还不能查看个人资产"}),(0,a.jsx)(i.z,{className:"w-1/2",asChild:!0,children:(0,a.jsx)(l(),{href:"/launch?symbol=".concat(e.symbol),children:"查看公平发射"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{token:e}),(0,a.jsxs)("div",{className:"flex-col items-center p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)(x.Z,{title:"我的治理资产"}),(0,a.jsx)(i.z,{variant:"link",className:"text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(l(),{href:"/gov/unstake?symbol=".concat(null==e?void 0:e.symbol),children:"取消质押"})})]}),(0,a.jsx)(v.Z,{token:e})]}),(0,a.jsx)(C,{token:e})]}):(0,a.jsx)(h.Z,{}):(0,a.jsx)("div",{className:"flex flex-col items-center p-4 mt-4",children:(0,a.jsx)("div",{className:"text-center mb-4 text-greyscale-500",children:"没有链接钱包，请先连接钱包"})})})]})}}},function(e){e.O(0,[8239,367,246,6143,9443,3494,2252,3950,6127,2180,7616,8499,9061,57,2888,9774,179],function(){return e(e.s=89245)}),_N_E=e.O()}]);