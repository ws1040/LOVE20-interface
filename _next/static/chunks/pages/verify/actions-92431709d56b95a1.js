try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fedf4ce4-bc9c-4344-99e0-7bfdc29ff86f",e._sentryDebugIdIdentifier="sentry-dbid-fedf4ce4-bc9c-4344-99e0-7bfdc29ff86f")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9497],{20053:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify/actions",function(){return s(88300)}])},34680:function(e,n,s){"use strict";s.d(n,{Ol:function(){return d},SZ:function(){return f},Zb:function(){return l},aY:function(){return u},eW:function(){return m},ll:function(){return o}});var t=s(72253),r=s(47702),a=s(85893),c=s(67294),i=s(40108),l=c.forwardRef(function(e,n){var s=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:n,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s)},c))});l.displayName="Card";var d=c.forwardRef(function(e,n){var s=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:n,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s)},c))});d.displayName="CardHeader";var o=c.forwardRef(function(e,n){var s=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:n,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s)},c))});o.displayName="CardTitle";var f=c.forwardRef(function(e,n){var s=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:n,className:(0,i.cn)("text-sm text-muted-foreground",s)},c))});f.displayName="CardDescription";var u=c.forwardRef(function(e,n){var s=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:n,className:(0,i.cn)("p-6 pt-0",s)},c))});u.displayName="CardContent";var m=c.forwardRef(function(e,n){var s=e.className,c=(0,r._)(e,["className"]);return(0,a.jsx)("div",(0,t._)({ref:n,className:(0,i.cn)("flex items-center p-6 pt-0",s)},c))});m.displayName="CardFooter"},64777:function(e,n,s){"use strict";var t=s(85893);n.Z=function(e){var n=e.title;return(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)("h1",{className:"text-lg font-bold",children:n})})}},42083:function(e,n,s){"use strict";var t=s(85893),r=s(23432);n.Z=function(){return(0,t.jsx)(r.Z,{className:"mx-auto h-4 w-4 animate-spin text-greyscale-500"})}},88300:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return j}});var t=s(85893),r=s(67294),a=s(87250),c=s(73591),i=s(83494),l=s(42130),d=s(39332),o=s(27245),f=s(4307),u=s(41664),m=s.n(u),x=s(93950),N=s(93778),h=s(34680),v=s(64777),p=s(42083),y=s(91529),g=function(e){var n,s=e.currentRound,a=((0,r.useContext)(N.M)||{}).token,i=(0,l.m)().address;(0,d.useRouter)();var u=(0,x.Pu)((null==a?void 0:a.address)||"",s,i),g=u.verifyingActions,j=u.isPending,b=u.error,_=(0,c.S)().handleContractError;return((0,r.useEffect)(function(){b&&_(b,"dataviewer")},[b]),!a||j)?(0,t.jsx)("div",{className:"p-4 flex justify-center items-center",children:(0,t.jsx)(p.Z,{})}):(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)(v.Z,{title:"所有验证中行动"}),(0,t.jsx)(o.z,{variant:"outline",size:"sm",className:"text-secondary border-secondary",asChild:!0,children:(0,t.jsx)(m(),{href:"/gov?symbol=".concat(null==a?void 0:a.symbol),children:"返回治理首页"})})]}),!(null==g?void 0:g.length)&&(0,t.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"本轮没有行动要验证"}),g&&g.length>0&&(0,t.jsx)("div",{className:"mt-4 space-y-4",children:null==g?void 0:null===(n=g.sort(function(e,n){var s=BigInt(e.action.head.id),t=BigInt(n.action.head.id);return s<t?-1:s>t?1:0}))||void 0===n?void 0:n.map(function(e){return(0,t.jsx)(h.Zb,{className:"shadow-none",children:(0,t.jsxs)(m(),{className:"relative block",href:"/verify/action?id=".concat(e.action.head.id,"&symbol=").concat(null==a?void 0:a.symbol),children:[(0,t.jsxs)(h.Ol,{className:"px-3 pt-2 pb-1 flex-row justify-start items-baseline",children:[(0,t.jsx)("span",{className:"text-greyscale-400 text-sm mr-1",children:"No."}),(0,t.jsx)("span",{className:"text-secondary text-xl font-bold mr-2",children:String(e.action.head.id)}),(0,t.jsx)("span",{className:"font-bold text-greyscale-800",children:"".concat(e.action.body.title)})]}),(0,t.jsx)(h.aY,{className:"px-3 pt-1 pb-2",children:(0,t.jsxs)("div",{className:"text-xs mt-2 flex justify-between",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 mr-1",children:"投票数"}),(0,t.jsxs)("span",{className:"text-secondary",children:[" ",(0,y.LH)(e.votesNum)]})]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 mr-1",children:"已验证票数"}),(0,t.jsxs)("span",{className:"text-secondary",children:[" ",(0,y.LH)(e.verificationScore)]})]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-greyscale-400 mr-1",children:"进度"}),(0,t.jsx)("span",{className:"text-secondary",children:e.votesNum>BigInt(0)?"".concat(Number(e.verificationScore*BigInt(100)/e.votesNum),"%"):"0%"})]})]})}),(0,t.jsx)(f.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-greyscale-400 pointer-events-none"})]})},e.action.head.id)})})]})},j=function(){var e=(0,a.Bk)(),n=e.currentRound,s=e.error,l=(0,c.S)().handleContractError;return(0,r.useEffect)(function(){s&&l(s,"verify")},[s]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{title:"验证中的行动"}),(0,t.jsx)("main",{className:"flex-grow",children:(0,t.jsx)(g,{currentRound:n})})]})}},21803:function(e,n,s){"use strict";function t(e,n){let[s,t="0"]=e.split("."),r=s.startsWith("-");if(r&&(s=s.slice(1)),t=t.replace(/(0+)$/,""),0===n)1===Math.round(Number(`.${t}`))&&(s=`${BigInt(s)+1n}`),t="";else if(t.length>n){let[e,r,a]=[t.slice(0,n-1),t.slice(n-1,n),t.slice(n)],c=Math.round(Number(`${r}.${a}`));(t=c>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${c}`).length>n&&(t=t.slice(1),s=`${BigInt(s)+1n}`),t=t.slice(0,n)}else t=t.padEnd(n,"0");return BigInt(`${r?"-":""}${s}${t}`)}s.d(n,{v:function(){return t}})}},function(e){e.O(0,[8239,367,3494,2252,3950,7250,2888,9774,179],function(){return e(e.s=20053)}),_N_E=e.O()}]);